<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>C55XX CSL 3.06.00 API: SPI Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">C55XX CSL 3.06.00 API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SPI Functions<div class="ingroups"><a class="el" href="group___c_s_l___s_p_i___a_p_i.html">SPI</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga06960e731df8c487f7b7a5116f50e357"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___s_p_i___f_u_n_c_t_i_o_n.html#ga06960e731df8c487f7b7a5116f50e357">SPI_init</a> (void)</td></tr>
<tr class="separator:ga06960e731df8c487f7b7a5116f50e357"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga96065a5d58724b6ab80b37e2d3f9c275"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___s_p_i___f_u_n_c_t_i_o_n.html#ga96065a5d58724b6ab80b37e2d3f9c275">SPI_deInit</a> (void)</td></tr>
<tr class="separator:ga96065a5d58724b6ab80b37e2d3f9c275"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4bd478355e80282b748bc4321d4d0a2a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___c_s_l___s_p_i___d_a_t_a_s_t_r_u_c_t.html#gaa5fab87f767b6c5ce545e964f7024116">CSL_SpiHandle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___s_p_i___f_u_n_c_t_i_o_n.html#ga4bd478355e80282b748bc4321d4d0a2a">SPI_open</a> (<a class="el" href="group___c_s_l___s_p_i___e_n_u_m.html#ga8fe127ba75f683f0454961ab42ab815a">SPI_HwMode</a> csNum, <a class="el" href="group___c_s_l___s_p_i___e_n_u_m.html#ga99b532125ce6faa793c8831010baa9b3">SPI_OperMode</a> opMode)</td></tr>
<tr class="separator:ga4bd478355e80282b748bc4321d4d0a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10d8c2517eabbe92628ec454efdd36ee"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___s_p_i___f_u_n_c_t_i_o_n.html#ga10d8c2517eabbe92628ec454efdd36ee">SPI_close</a> (<a class="el" href="group___c_s_l___s_p_i___d_a_t_a_s_t_r_u_c_t.html#gaa5fab87f767b6c5ce545e964f7024116">CSL_SpiHandle</a> hSpi)</td></tr>
<tr class="separator:ga10d8c2517eabbe92628ec454efdd36ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf84e028d07283e0be961373a9196a906"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___s_p_i___f_u_n_c_t_i_o_n.html#gaf84e028d07283e0be961373a9196a906">SPI_config</a> (<a class="el" href="group___c_s_l___s_p_i___d_a_t_a_s_t_r_u_c_t.html#gaa5fab87f767b6c5ce545e964f7024116">CSL_SpiHandle</a> hSpi, <a class="el" href="struct_s_p_i___config.html">SPI_Config</a> *spiHwConfig)</td></tr>
<tr class="separator:gaf84e028d07283e0be961373a9196a906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b1d3daf63c37ee3bdf6ebc5a0d67912"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___s_p_i___f_u_n_c_t_i_o_n.html#ga0b1d3daf63c37ee3bdf6ebc5a0d67912">SPI_read</a> (<a class="el" href="group___c_s_l___s_p_i___d_a_t_a_s_t_r_u_c_t.html#gaa5fab87f767b6c5ce545e964f7024116">CSL_SpiHandle</a> hSpi, Uint16 *readBuffer, Uint16 bufLen)</td></tr>
<tr class="separator:ga0b1d3daf63c37ee3bdf6ebc5a0d67912"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4476f13e252915ca3255b686bf52989f"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___s_p_i___f_u_n_c_t_i_o_n.html#ga4476f13e252915ca3255b686bf52989f">SPI_write</a> (<a class="el" href="group___c_s_l___s_p_i___d_a_t_a_s_t_r_u_c_t.html#gaa5fab87f767b6c5ce545e964f7024116">CSL_SpiHandle</a> hSpi, Uint16 *writeBuffer, Uint16 bufLen)</td></tr>
<tr class="separator:ga4476f13e252915ca3255b686bf52989f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae7ae13ea63496533d120c5bc627502e"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___s_p_i___f_u_n_c_t_i_o_n.html#gaae7ae13ea63496533d120c5bc627502e">SPI_dataTransaction</a> (<a class="el" href="group___c_s_l___s_p_i___d_a_t_a_s_t_r_u_c_t.html#gaa5fab87f767b6c5ce545e964f7024116">CSL_SpiHandle</a> hSpi, Uint16 *rwBuffer, Uint16 rwBufLen, <a class="el" href="group___c_s_l___s_p_i___e_n_u_m.html#ga772ce4a5765a3e653e340a042ccb9899">SPI_Command</a> readOrWrite)</td></tr>
<tr class="separator:gaae7ae13ea63496533d120c5bc627502e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga10d8c2517eabbe92628ec454efdd36ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status SPI_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_s_l___s_p_i___d_a_t_a_s_t_r_u_c_t.html#gaa5fab87f767b6c5ce545e964f7024116">CSL_SpiHandle</a>&#160;</td>
          <td class="paramname"><em>hSpi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>=========================================================================== <br />
<b>SPI_close</b> </p>
<p><b>Description</b> <br />
 This function closes the specified handle to SPI.</p>
<p><b>Arguments</b> </p><pre class="fragment">        spiHandle          Handle to the spi</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Close successful </li>
<li>CSL_ESYS_BADHANDLE - Invalid handle</li>
</ul>
<p><b> Pre Condition </b> <br />
 <a class="el" href="group___c_s_l___s_p_i___f_u_n_c_t_i_o_n.html#ga4bd478355e80282b748bc4321d4d0a2a">SPI_open()</a> function has to call before call this function.</p>
<p><b> Post Condition </b> <br />
 There should not be any function call after this function call.</p>
<p><b>Modifies</b> <br />
 None</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_SpiHandle   hSpi;
        CSL_status   status;

        status = SPI_close(hSpi);</pre><hr/>
 
</div>
</div>
<a class="anchor" id="gaf84e028d07283e0be961373a9196a906"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status SPI_config </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_s_l___s_p_i___d_a_t_a_s_t_r_u_c_t.html#gaa5fab87f767b6c5ce545e964f7024116">CSL_SpiHandle</a>&#160;</td>
          <td class="paramname"><em>hSpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_s_p_i___config.html">SPI_Config</a> *&#160;</td>
          <td class="paramname"><em>spiHwConfig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>=========================================================================== <br />
<b>SPI_config</b> </p>
<p><b>Description</b> <br />
 It configures the SPI Controller registers of particular handle as per the values passed in the SPI config structure.</p>
<p><b>Arguments</b> </p><pre class="fragment">        spiHandle       Handle to the spi.
        spiHwConfig     Pointer to spi Config structure.</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Hardware setup successful </li>
<li>CSL_ESYS_BADHANDLE - Invalid handle </li>
<li>CSL_ESYS_INVPARAMS - Congig Parameter is invalid.</li>
</ul>
<p><b> Pre Condition </b> <br />
 SPI_open function should call before call this function.</p>
<p><b> Post Condition </b> <br />
 SPI_close function can call after this function call.</p>
<p><b>Modifies</b> <br />
 1. SPI registers will be updated as per config parameter <br />
 2. <a class="el" href="struct_c_s_l___spi_obj.html" title="Object structure. ">CSL_SpiObj</a> Object will be updated to store some info as passed config parameter.</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_SpiHandle   hSpi;
        SPI_Config      spiHwConfig;
        Int16           status;

        status = SPI_config(hSpi, &amp;spiHwConfig);
        ...</pre><hr/>
 
</div>
</div>
<a class="anchor" id="gaae7ae13ea63496533d120c5bc627502e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status SPI_dataTransaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_s_l___s_p_i___d_a_t_a_s_t_r_u_c_t.html#gaa5fab87f767b6c5ce545e964f7024116">CSL_SpiHandle</a>&#160;</td>
          <td class="paramname"><em>hSpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint16 *&#160;</td>
          <td class="paramname"><em>rwBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint16&#160;</td>
          <td class="paramname"><em>rwBufLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_s_l___s_p_i___e_n_u_m.html#ga772ce4a5765a3e653e340a042ccb9899">SPI_Command</a>&#160;</td>
          <td class="paramname"><em>readOrWrite</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>=========================================================================== <br />
<b>SPI_dataTransaction</b> </p>
<p><b>Description</b> <br />
 This function read or Write data to specified device.</p>
<p><b>Arguments</b> </p><pre class="fragment">        spiHandle         Handle to the spi
        writeBuff         Pointer to the write buffer.
        buffLen           Maximum read buffer size.
        readOrWrite       Read or write command.</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - transation success </li>
<li>CSL_ESYS_BADHANDLE - Invalid handle</li>
</ul>
<p><b> Pre Condition </b> This function can after SPI_open function.</p>
<p><b> Post Condition </b> <br />
 SPI_deInit can be call after this function call.</p>
<p><b>Modifies</b> <br />
 <b>Example</b> </p><pre class="fragment">        CSL_SpiHandle   hSpi;
        Uint16          writeBuff[size];
        Uint16          buffLen;
        SPI_Command  readOrWrite
        CSL_status   status;
        ...
        ...
        status = SPI_dataTransaction(hSpi, &amp;rwBuffer,
                                       rwBufLen, readOrWrite);</pre><hr/>
 
</div>
</div>
<a class="anchor" id="ga96065a5d58724b6ab80b37e2d3f9c275"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status SPI_deInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>=========================================================================== <br />
<b>SPI_deInit</b> </p>
<p><b>Description</b> <br />
 This function unintialize and activate the SPI module</p>
<p><b>Arguments</b> </p><pre class="fragment">        void    No parameter</pre><p><b> Return Value </b> CSL_SOK <br />
 Return value CSL_SOK for success</p>
<p><b> Pre Condition </b> <br />
 This function call call after SPI_init function.</p>
<p><b> Post Condition </b> <br />
 SPI_close function can be call after this function call.</p>
<p><b>Modifies</b> <br />
 1. Set the register to activate SPI module <br />
 2.</p>
<p><b>Example</b> </p><pre class="fragment">        void

        result = SPI_deInit();
        ...
</pre><hr/>
 
</div>
</div>
<a class="anchor" id="ga06960e731df8c487f7b7a5116f50e357"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status SPI_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>=========================================================================== <br />
<b>SPI_init</b> </p>
<p><b>Description</b> <br />
 This function intialize and activate the SPI module</p>
<p><b>Arguments</b> </p><pre class="fragment">        None</pre><p><b> Return Value </b> CSL_SOK <br />
 Return value CSL_SOK for success</p>
<p><b> Pre Condition </b> <br />
 This functionality has to call before any function call.</p>
<p><b> Post Condition </b> <br />
 None</p>
<p><b>Modifies</b> <br />
 None</p>
<p><b>Example</b> </p><pre class="fragment">        void

        result = SPI_init();
        ...
</pre><hr/>
 
</div>
</div>
<a class="anchor" id="ga4bd478355e80282b748bc4321d4d0a2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___c_s_l___s_p_i___d_a_t_a_s_t_r_u_c_t.html#gaa5fab87f767b6c5ce545e964f7024116">CSL_SpiHandle</a> SPI_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_s_l___s_p_i___e_n_u_m.html#ga8fe127ba75f683f0454961ab42ab815a">SPI_HwMode</a>&#160;</td>
          <td class="paramname"><em>csNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_s_l___s_p_i___e_n_u_m.html#ga99b532125ce6faa793c8831010baa9b3">SPI_OperMode</a>&#160;</td>
          <td class="paramname"><em>opMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>=========================================================================== <br />
<b>SPI_open</b> </p>
<p><b>Description</b> <br />
 This function returns the handle to the SPI instance. This handle is passed to all other CSL APIs.</p>
<p><b>Arguments</b> </p><pre class="fragment">        Mode        chip select mode.</pre><p><b> Return Value </b> CSL_SpiHandle <br />
 Valid SPI handle will be returned if handler value is not equal to NULL.</p>
<p><b> Pre Condition </b> <br />
 SPI_init function has to call before call this function.</p>
<p><b> Post Condition </b> <br />
 1. The status is returned in the status variable. If status returned is </p><ul>
<li>NULL - InValid SPI handle is returned <br />
 2.</li>
</ul>
<p><b>Modifies</b> <br />
 1. <a class="el" href="struct_c_s_l___spi_obj.html" title="Object structure. ">CSL_SpiObj</a> SPI object structure <br />
 2.</p>
<p><b>Example</b> </p><pre class="fragment">        SPI_HwMode       csNum;
        SPI_OperMode    opMode(Polling/Interrupt)
        ...

        hSpi = SPI_open(SPI_HwMode  csNum, SPI_OperMode opMode);
        ...
</pre><hr/>
 
</div>
</div>
<a class="anchor" id="ga0b1d3daf63c37ee3bdf6ebc5a0d67912"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status SPI_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_s_l___s_p_i___d_a_t_a_s_t_r_u_c_t.html#gaa5fab87f767b6c5ce545e964f7024116">CSL_SpiHandle</a>&#160;</td>
          <td class="paramname"><em>hSpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint16 *&#160;</td>
          <td class="paramname"><em>readBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint16&#160;</td>
          <td class="paramname"><em>bufLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>=========================================================================== <br />
<b>SPI_read</b> </p>
<p><b>Description</b> <br />
 This function Read data form specified device.</p>
<p><b>Arguments</b> </p><pre class="fragment">        hSpi              Pointer to handler
        readBuff          Pointer to the read buffer.
        buffLen           Maximum read buffer size.</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Read successful </li>
<li>CSL_ESYS_BADHANDLE - Invalid handle</li>
</ul>
<p><b> Pre Condition </b> <br />
 This function can call by SPI_dataTransaction function.</p>
<p><b> Post Condition </b> <br />
 SPI_deInit can be call after this function call.</p>
<p><b>Modifies</b> <br />
 <b>Example</b> </p><pre class="fragment">        CSL_SpiHandle   hSpi
        Uint16          readBuff[size];
        Uint16          buffLen;
        CSL_status   status;

        status = SPI_read(hSpi,&amp;readBuff, buffLen);</pre><hr/>
 
</div>
</div>
<a class="anchor" id="ga4476f13e252915ca3255b686bf52989f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status SPI_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_s_l___s_p_i___d_a_t_a_s_t_r_u_c_t.html#gaa5fab87f767b6c5ce545e964f7024116">CSL_SpiHandle</a>&#160;</td>
          <td class="paramname"><em>hSpi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint16 *&#160;</td>
          <td class="paramname"><em>writeBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint16&#160;</td>
          <td class="paramname"><em>bufLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>=========================================================================== <br />
<b>SPI_write</b> </p>
<p><b>Description</b> <br />
 This function Write data to specified device.</p>
<p><b>Arguments</b> </p><pre class="fragment">        hSpi              Pointer to handler
        writeBuff         Pointer to the write buffer.
        buffLen           Maximum read buffer size.</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Write successful </li>
<li>CSL_ESYS_BADHANDLE - Invalid handle</li>
</ul>
<p><b> Pre Condition </b> This function can call by SPI_dataTransaction function.</p>
<p><b> Post Condition </b> <br />
 SPI_deInit can be call after this function call.</p>
<p><b>Modifies</b> <br />
 <b>Example</b> </p><pre class="fragment">        CSL_SpiHandle   hSpi
        Uint16          writeBuff[size];
        Uint16          buffLen;
        CSL_status      status;

        status = SPI_write(hSpi,&amp;writeBuff, buffLen);</pre><hr/>
 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
