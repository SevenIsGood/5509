<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>C55XX CSL 3.06.00 API: USB CDC Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">C55XX CSL 3.06.00 API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">USB CDC Functions<div class="ingroups"><a class="el" href="group___c_s_l___c_d_c___a_p_i.html">CDC</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf682b9d4072e68b6c88b8a68d9298fde"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___c_d_c___f_u_n_c_t_i_o_n.html#gaf682b9d4072e68b6c88b8a68d9298fde">CDC_Open</a> (<a class="el" href="group___c_s_l___c_d_c___d_a_t_a_s_t_r_u_c_t.html#ga5de458dc9b697770cc678dab4502d575">pCdcAppClassHandle</a> pAppClassHandle, <a class="el" href="struct_c_s_l___usb_config.html">CSL_UsbConfig</a> *usbConfig)</td></tr>
<tr class="separator:gaf682b9d4072e68b6c88b8a68d9298fde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4eff5c57a4063622bbe6a7b03d1dd558"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___c_d_c___f_u_n_c_t_i_o_n.html#ga4eff5c57a4063622bbe6a7b03d1dd558">CDC_OpenFullspeed</a> (<a class="el" href="group___c_s_l___c_d_c___d_a_t_a_s_t_r_u_c_t.html#ga5de458dc9b697770cc678dab4502d575">pCdcAppClassHandle</a> pAppClassHandle, <a class="el" href="struct_c_s_l___usb_config.html">CSL_UsbConfig</a> *usbConfig)</td></tr>
<tr class="separator:ga4eff5c57a4063622bbe6a7b03d1dd558"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e9a65cd3cdb4cece130254c22c9b98c"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___c_d_c___f_u_n_c_t_i_o_n.html#ga5e9a65cd3cdb4cece130254c22c9b98c">CDC_Setup</a> (<a class="el" href="group___c_s_l___c_d_c___d_a_t_a_s_t_r_u_c_t.html#ga5de458dc9b697770cc678dab4502d575">pCdcAppClassHandle</a> pAppClassHandle, Bool usbSpeedCfg)</td></tr>
<tr class="separator:ga5e9a65cd3cdb4cece130254c22c9b98c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa465e845f107aecd014cf3f4055ec0ca"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___c_d_c___f_u_n_c_t_i_o_n.html#gaa465e845f107aecd014cf3f4055ec0ca">CDC_Close</a> (<a class="el" href="group___c_s_l___c_d_c___d_a_t_a_s_t_r_u_c_t.html#ga5de458dc9b697770cc678dab4502d575">pCdcAppClassHandle</a> pAppClassHandle)</td></tr>
<tr class="separator:gaa465e845f107aecd014cf3f4055ec0ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadbbc9d6b8c5b969956be6f577512808b"><td class="memItemLeft" align="right" valign="top">Uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___c_d_c___f_u_n_c_t_i_o_n.html#gadbbc9d6b8c5b969956be6f577512808b">CDC_GetactivityFlagStatus</a> (void *pCDC)</td></tr>
<tr class="separator:gadbbc9d6b8c5b969956be6f577512808b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga34ffa49bd7ea8030e97e1d3e023c5228"><td class="memItemLeft" align="right" valign="top">Uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___c_d_c___f_u_n_c_t_i_o_n.html#ga34ffa49bd7ea8030e97e1d3e023c5228">CDC_GetsuspendFlagStatus</a> (void *pCDC)</td></tr>
<tr class="separator:ga34ffa49bd7ea8030e97e1d3e023c5228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b222c2731e367428495fed788f61c39"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___c_s_l___c_d_c___e_n_u_m.html#ga03851b577a0f2390eb860279e9e68bff">CSL_CdcRequestRet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___c_d_c___f_u_n_c_t_i_o_n.html#ga7b222c2731e367428495fed788f61c39">CDC_eventHandler</a> (<a class="el" href="group___c_s_l___u_s_b___d_a_t_a_s_t_r_u_c_t.html#ga9d3c51d08e064287403a7debc79d8786">pUsbContext</a> pContext, <a class="el" href="struct_c_s_l___cdc_class_struct.html">CSL_CdcClassStruct</a> *hCdcClass)</td></tr>
<tr class="separator:ga7b222c2731e367428495fed788f61c39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1a67b00017df33b468e7271553ceda4"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___c_d_c___f_u_n_c_t_i_o_n.html#gad1a67b00017df33b468e7271553ceda4">CDC_bulkOutHandler</a> (<a class="el" href="group___c_s_l___u_s_b___d_a_t_a_s_t_r_u_c_t.html#ga9d3c51d08e064287403a7debc79d8786">pUsbContext</a> pContext, <a class="el" href="struct_c_s_l___cdc_init_struct_app.html">CSL_CdcInitStructApp</a> *cdcAppHandle)</td></tr>
<tr class="separator:gad1a67b00017df33b468e7271553ceda4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadb0ab40c5f6cee7bac0046161d94764e"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___c_d_c___f_u_n_c_t_i_o_n.html#gadb0ab40c5f6cee7bac0046161d94764e">CDC_bulkInHandler</a> (<a class="el" href="group___c_s_l___u_s_b___d_a_t_a_s_t_r_u_c_t.html#ga9d3c51d08e064287403a7debc79d8786">pUsbContext</a> pContext, <a class="el" href="struct_c_s_l___cdc_init_struct_app.html">CSL_CdcInitStructApp</a> *cdcAppHandle)</td></tr>
<tr class="separator:gadb0ab40c5f6cee7bac0046161d94764e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab01e5b08cbe83e16b414055fc8dd7de7"><td class="memItemLeft" align="right" valign="top">Uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___c_d_c___f_u_n_c_t_i_o_n.html#gab01e5b08cbe83e16b414055fc8dd7de7">CDC_getData</a> (<a class="el" href="group___c_s_l___u_s_b___d_a_t_a_s_t_r_u_c_t.html#ga9d3c51d08e064287403a7debc79d8786">pUsbContext</a> pContext, <a class="el" href="struct_c_s_l___cdc_init_struct_app.html">CSL_CdcInitStructApp</a> *cdcAppHandle, Uint16 *data)</td></tr>
<tr class="separator:gab01e5b08cbe83e16b414055fc8dd7de7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8aedd6007bcb2c6a47afa47ee78e2ac"><td class="memItemLeft" align="right" valign="top">Uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___c_d_c___f_u_n_c_t_i_o_n.html#gaf8aedd6007bcb2c6a47afa47ee78e2ac">CDC_putData</a> (<a class="el" href="group___c_s_l___u_s_b___d_a_t_a_s_t_r_u_c_t.html#ga9d3c51d08e064287403a7debc79d8786">pUsbContext</a> pContext, <a class="el" href="struct_c_s_l___cdc_init_struct_app.html">CSL_CdcInitStructApp</a> *cdcAppHandle, Uint16 *data, Uint16 size)</td></tr>
<tr class="separator:gaf8aedd6007bcb2c6a47afa47ee78e2ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gadb0ab40c5f6cee7bac0046161d94764e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status CDC_bulkInHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_s_l___u_s_b___d_a_t_a_s_t_r_u_c_t.html#ga9d3c51d08e064287403a7debc79d8786">pUsbContext</a>&#160;</td>
          <td class="paramname"><em>pContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_s_l___cdc_init_struct_app.html">CSL_CdcInitStructApp</a> *&#160;</td>
          <td class="paramname"><em>cdcAppHandle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>============================================================================ <br />
<b>CDC_bulkInHandler</b> </p>
<p><b>Description</b> <br />
 This function handles all the CDC ACM bulk IN data transactions</p>
<p><b>Arguments</b> </p><pre class="fragment">        pContext         Pointer to the USBContext structure
        hCdcClass        Handle to the CDC Class Obj</pre><p><b> Return Value </b> - Status of the processing (CSL_Status) </p><ul>
<li>CSL_SOK (0) Success </li>
<li>CSL_ESYS_FAIL (-1) Generic failure </li>
<li>CSL_ESYS_BADHANDLE (-5) Handle passed to CSL was invalid </li>
<li>CSL_ESYS_INVPARAMS (-6) Invalid parameters</li>
</ul>
<p><b> Pre Condition </b> <br />
 CDC module should be opened using CDC_Open/CDC_OpenFullspeed function</p>
<p><b> Post Condition </b> <br />
 Returns request processing status</p>
<p><b>Modifies</b> <br />
 None</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_CdcInitStructApp    cdcAppHandle;
        CSL_CdcClassStruct      cdcClassStruct;
        CSL_Status              status;

        // Assign values to all the members in cdcAppHandle struct
        cdcAppHandle.pCdcObj = &amp;cdcClassStruct;
        .....
        .....
        status = CDC_Open(pAppClassHandle);
        ....
        ....

        in USB ISR:
        ....
        ....
        if (pContext-&gt;dwIntSourceL &amp; (1&lt;&lt;CSL_CDC_BULK_IN_EP))
        {
            // Handle the CDC BULK IN
            ///CDC_bulkInHandler(pContext, &amp;CDC_AppHandle);
        }
        ....
        ....</pre><hr/>
 
</div>
</div>
<a class="anchor" id="gad1a67b00017df33b468e7271553ceda4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status CDC_bulkOutHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_s_l___u_s_b___d_a_t_a_s_t_r_u_c_t.html#ga9d3c51d08e064287403a7debc79d8786">pUsbContext</a>&#160;</td>
          <td class="paramname"><em>pContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_s_l___cdc_init_struct_app.html">CSL_CdcInitStructApp</a> *&#160;</td>
          <td class="paramname"><em>cdcAppHandle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>============================================================================ <br />
<b>CDC_bulkOutHandler</b> </p>
<p><b>Description</b> <br />
 This function handles all the CDC ACM bulk OUT data transactions</p>
<p><b>Arguments</b> </p><pre class="fragment">        pContext         Pointer to the USBContext structure
        hCdcClass        Handle to the CDC Class Obj</pre><p><b> Return Value </b> - Status of the processing (CSL_Status) </p><ul>
<li>CSL_SOK (0) Success </li>
<li>CSL_ESYS_FAIL (-1) Generic failure </li>
<li>CSL_ESYS_BADHANDLE (-5) Handle passed to CSL was invalid </li>
<li>CSL_ESYS_INVPARAMS (-6) Invalid parameters</li>
</ul>
<p><b> Pre Condition </b> <br />
 CDC module should be opened using CDC_Open/CDC_OpenFullspeed function</p>
<p><b> Post Condition </b> <br />
 Returns request processing status</p>
<p><b>Modifies</b> <br />
 None</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_CdcInitStructApp    cdcAppHandle;
        CSL_CdcClassStruct      cdcClassStruct;
        CSL_Status              status;

        // Assign values to all the members in cdcAppHandle struct
        cdcAppHandle.pCdcObj = &amp;cdcClassStruct;
        .....
        .....
        status = CDC_Open(pAppClassHandle);
        ....
        ....

        in USB ISR:
        ....
        ....
        if (pContext-&gt;dwIntSourceL &amp; (1&lt;&lt;(CSL_CDC_BULK_OUT_EP+CSL_USB_IN_EP0)))
        {
            // Handle the CDC BULK OUT
            CDC_bulkOutHandler(pContext, &amp;CDC_AppHandle);
        }
        ....
        ....</pre><hr/>
 
</div>
</div>
<a class="anchor" id="gaa465e845f107aecd014cf3f4055ec0ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status CDC_Close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_s_l___c_d_c___d_a_t_a_s_t_r_u_c_t.html#ga5de458dc9b697770cc678dab4502d575">pCdcAppClassHandle</a>&#160;</td>
          <td class="paramname"><em>pAppClassHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>============================================================================ <br />
<b>CDC_Close</b> </p>
<p><b>Description</b> <br />
 This function Opens the Cdc module.</p>
<p><b>Arguments</b> </p><pre class="fragment">        pAppClassHandle       Application handle to the CDC Class Obj</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Returned for success </li>
<li>CSL_ESYS_BADHANDLE - Invalid Cdc class handle</li>
</ul>
<p><b> Pre Condition </b> <br />
 CDC module should be opened using CDC_Open/CDC_OpenFullspeed function</p>
<p><b> Post Condition </b> <br />
 Closes the Cdc module</p>
<p><b>Modifies</b> <br />
 Cdc and Ctl handles</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_CdcInitStructApp    cdcAppHandle;
        pCdcAppClassHandle      pAppClassHandle;
        Uint16                  cdcAppBuffer[420];
        CSL_Status              status;

        pAppClassHandle = &amp;cdcAppHandle;

        // Assign values to all the members in cdcAppHandle struct
        cdcAppHandle.pCdcObj = &amp;cdcAppBuffer[0];
        .....
        .....
        status = CDC_Open(pAppClassHandle);
        ....
        ....
        status = CDC_Close(pAppClassHandle);</pre><hr/>
<p>============================================================================ <br />
<b>CDC_Close</b> </p>
<p><b>Description</b> <br />
 This function close the Cdc module.</p>
<p><b>Arguments</b> </p><pre class="fragment">        pAppClassHandle       Application handle to the CDC Class Obj</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Returned for success </li>
<li>CSL_ESYS_BADHANDLE - Invalid Cdc class handle</li>
</ul>
<p><b> Pre Condition </b> <br />
 CDC module should be opened using CDC_Open/CDC_OpenFullspeed function</p>
<p><b> Post Condition </b> <br />
 Closes the Cdc module</p>
<p><b>Modifies</b> <br />
 Cdc and Ctl handles</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_CdcInitStructApp    cdcAppHandle;
        pCdcAppClassHandle      pAppClassHandle;
        Uint16                  cdcAppBuffer[420];
        CSL_Status              status;

        pAppClassHandle = &amp;cdcAppHandle;

        // Assign values to all the members in cdcAppHandle struct
        cdcAppHandle.pCdcObj = &amp;cdcAppBuffer[0];
        .....
        .....
        status = CDC_Open(pAppClassHandle);
        ....
        ....
        status = CDC_Close(pAppClassHandle);</pre><hr/>
 
</div>
</div>
<a class="anchor" id="ga7b222c2731e367428495fed788f61c39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___c_s_l___c_d_c___e_n_u_m.html#ga03851b577a0f2390eb860279e9e68bff">CSL_CdcRequestRet</a> CDC_eventHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_s_l___u_s_b___d_a_t_a_s_t_r_u_c_t.html#ga9d3c51d08e064287403a7debc79d8786">pUsbContext</a>&#160;</td>
          <td class="paramname"><em>pContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_s_l___cdc_class_struct.html">CSL_CdcClassStruct</a> *&#160;</td>
          <td class="paramname"><em>hCdcClass</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>============================================================================ <br />
<b>CDC_eventHandler</b> </p>
<p><b>Description</b> <br />
 This function handles all the CDC ACM related requests</p>
<p><b>Arguments</b> </p><pre class="fragment">        pContext         Pointer to the USBContext structure
        hCdcClass        Handle to the CDC Class Obj</pre><p><b> Return Value </b> - Status of the request (CSL_CdcRequestRet) </p><ul>
<li>CSL_CDC_REQUEST_DONE (0) - CDC request process done </li>
<li>CSL_CDC_REQUEST_STALL (1) - STALL the control endpoint </li>
<li>CSL_CDC_REQUEST_SEND_ACK (2) - Prepare to receive 0 length OUT packet </li>
<li>CSL_CDC_REQUEST_DATA_IN (0) - Notify handler when IN data has been transmitted </li>
<li>CSL_CDC_REQUEST_DATA_OUT (0) - Notify handler when OUT data has been received</li>
</ul>
<p><b> Pre Condition </b> <br />
 CDC module should be opened using CDC_Open/CDC_OpenFullspeed function</p>
<p><b> Post Condition </b> <br />
 Returns request processing status</p>
<p><b>Modifies</b> <br />
 None</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_CdcInitStructApp    cdcAppHandle;
        CSL_CdcClassStruct      cdcClassStruct;
        CSL_Status              status;

        // Assign values to all the members in cdcAppHandle struct
        cdcAppHandle.pCdcObj = &amp;cdcClassStruct;
        .....
        .....
        status = CDC_Open(pAppClassHandle);
        ....
        ....

        in USB ISR:
        ....
        ....
        if(pContext-&gt;dwIntSourceL &amp; CSL_USB_TX_RX_INT_EP0)
        {
            // call USB core EP0 event handler to process
            USB_coreEventProcessEp0(pContext);

            // call the CDC event handler for further processing
            CDC_eventHandler(pContext, &amp;cdcClassStruct);
        }
        ....
        ....</pre><hr/>
 
</div>
</div>
<a class="anchor" id="gadbbc9d6b8c5b969956be6f577512808b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Uint16 CDC_GetactivityFlagStatus </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pCDC</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>============================================================================ <br />
<b>CDC_GetactivityFlagStatus</b> </p>
<p><b>Description</b> <br />
 This function gives the status of the activity Flag</p>
<p><b>Arguments</b> </p><pre class="fragment">        pCDC        Handle to the CDC Class Obj</pre><p><b> Return Value </b> - Status of the activity flag </p><ul>
<li>'1' - If the activity is present </li>
<li>'0' - If the activity is not present</li>
</ul>
<p><b> Pre Condition </b> <br />
 CDC module should be opened using CDC_Open/CDC_OpenFullspeed function</p>
<p><b> Post Condition </b> <br />
 Returns Activity flag status</p>
<p><b>Modifies</b> <br />
 None</p>
<p><b>Example</b> </p><pre class="fragment">        Uint16                  activityFlagStat;
        CSL_CdcInitStructApp    cdcAppHandle;
        pCdcAppClassHandle      pAppClassHandle;
        Uint16                  cdcAppBuffer[420];
        CSL_Status              status;

        pAppClassHandle = &amp;cdcAppHandle;

        // Assign values to all the members in cdcAppHandle struct
        cdcAppHandle.pCdcObj = &amp;cdcAppBuffer[0];
        .....
        .....
        status = CDC_Open(pAppClassHandle);
        ....
        ....
        activityFlagStat = CDC_GetactivityFlagStatus(pAppClassHandle-&gt;pCdcObj);</pre><hr/>
<p>============================================================================ <br />
<b>CDC_GetactivityFlagStatus</b> </p>
<p><b>Description</b> <br />
 This function gives the status of the activity Flag</p>
<p><b>Arguments</b> </p><pre class="fragment">        pCDC        Handle to the CDC Class Obj</pre><p><b> Return Value </b> - Status of the activity flag </p><ul>
<li>'1' - If the activity is present </li>
<li>'0' - If the activity is not present</li>
</ul>
<p><b> Pre Condition </b> <br />
 CDC module should be opened using CDC_Open/CDC_OpenFullspeed function</p>
<p><b> Post Condition </b> <br />
 Returns Activity flag status</p>
<p><b>Modifies</b> <br />
 None</p>
<p><b>Example</b> </p><pre class="fragment">        Uint16                  activityFlagStat;
        CSL_MCdcInitStructApp    cdcAppHandle;
        pCdcAppClassHandle      pAppClassHandle;
        Uint16                  cdcAppBuffer[420];
        CSL_Status              status;

        pAppClassHandle = &amp;cdcAppHandle;

        // Assign values to all the members in cdcAppHandle struct
        cdcAppHandle.pCdcObj = &amp;cdcAppBuffer[0];
        .....
        .....
        status = CDC_Open(pAppClassHandle);
        ....
        ....
        activityFlagStat = CDC_GetactivityFlagStatus(pAppClassHandle-&gt;pCdcObj);</pre><hr/>
 
</div>
</div>
<a class="anchor" id="gab01e5b08cbe83e16b414055fc8dd7de7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Uint16 CDC_getData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_s_l___u_s_b___d_a_t_a_s_t_r_u_c_t.html#ga9d3c51d08e064287403a7debc79d8786">pUsbContext</a>&#160;</td>
          <td class="paramname"><em>pContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_s_l___cdc_init_struct_app.html">CSL_CdcInitStructApp</a> *&#160;</td>
          <td class="paramname"><em>cdcAppHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint16 *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>============================================================================ <br />
<b>CDC_getData</b> </p>
<p><b>Description</b> <br />
 This function receives data from the BULK OUT</p>
<p><b>Arguments</b> </p><pre class="fragment">        pContext         Pointer to the USBContext structure
        hCdcClass        Handle to the CDC Class Obj
        data            the data to be transmitted</pre><p><b> Return Value </b> - number of byte received </p><ul>
<li>0 - means the BULK OUT has no data avaiable </li>
<li>N &gt; 0 - means N byte data has been received</li>
</ul>
<p><b> Pre Condition </b> <br />
 CDC module should be opened using CDC_Open/CDC_OpenFullspeed function</p>
<p><b> Post Condition </b> <br />
 Returns request processing status</p>
<p><b>Modifies</b> <br />
 None</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_CdcInitStructApp    cdcAppHandle;
        CSL_CdcClassStruct      cdcClassStruct;
        CSL_Status              status;
        Uint16                  uartData[80]
        Uint16                  uartdataSize;

        // Assign values to all the members in cdcAppHandle struct
        cdcAppHandle.pCdcObj = &amp;cdcClassStruct;
        .....
        .....
        status = CDC_Open(pAppClassHandle);
        ....
        ....
        // Echo the input from the host back to the host
        // Get data from the host
        uartDataSize = CDC_getData(pContext, &amp;CDC_AppHandle, uartData);
        // Echo it back, if there is an input
        if (uartDataSize&gt;0)
        {
            do
            {
                // CDC_putData will return 0 if the TX is not ready for the transaction
                retNum = CDC_putData(pContext, &amp;CDC_AppHandle, uartData, uartDataSize);
            } while (retNum==0);
        }
        ....
        ....</pre><hr/>
 
</div>
</div>
<a class="anchor" id="ga34ffa49bd7ea8030e97e1d3e023c5228"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Uint16 CDC_GetsuspendFlagStatus </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pCDC</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>============================================================================ <br />
<b>CDC_GetsuspendFlagStatus</b> </p>
<p><b>Description</b> <br />
 This function gives the status of the suspend Flag</p>
<p><b>Arguments</b> </p><pre class="fragment">        pCDC        Handle to the CDC Class Obj</pre><p><b> Return Value </b> - Status of the suspend flag </p><ul>
<li>'1' - If the device is suspended </li>
<li>'0' - If the device is not suspended</li>
</ul>
<p><b> Pre Condition </b> <br />
 CDC module should be opened using CDC_Open/CDC_OpenFullspeed function</p>
<p><b> Post Condition </b> <br />
 Returns suspend flag status</p>
<p><b>Modifies</b> <br />
 None</p>
<p><b>Example</b> </p><pre class="fragment">        Uint16                  suspendFlagStat;
        CSL_CdcInitStructApp    cdcAppHandle;
        pCdcAppClassHandle      pAppClassHandle;
        Uint16                  cdcAppBuffer[420];
        CSL_Status              status;

        pAppClassHandle = &amp;cdcAppHandle;

        // Assign values to all the members in cdcAppHandle struct
        cdcAppHandle.pCdcObj = &amp;cdcAppBuffer[0];
        .....
        .....
        status = CDC_Open(pAppClassHandle);
        ....
        ....
        suspendFlagStat = CDC_GetsuspendFlagStatus(pAppClassHandle-&gt;pCdcObj);</pre><hr/>
 
</div>
</div>
<a class="anchor" id="gaf682b9d4072e68b6c88b8a68d9298fde"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status CDC_Open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_s_l___c_d_c___d_a_t_a_s_t_r_u_c_t.html#ga5de458dc9b697770cc678dab4502d575">pCdcAppClassHandle</a>&#160;</td>
          <td class="paramname"><em>pAppClassHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_s_l___usb_config.html">CSL_UsbConfig</a> *&#160;</td>
          <td class="paramname"><em>usbConfig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>============================================================================ <br />
<b>CDC_Open</b> </p>
<p><b>Description</b> <br />
 This function Opens the Cdc module. It initializes Cdc and Ctrl handles with the data given by the application.</p>
<p>NOTE: THIS FUNCTION CONFIGURES USB CDC MODULE IN HIGH SPEED MODE</p>
<p><b>Arguments</b> </p><pre class="fragment">        pAppClassHandle      Application handle to the CDC Class Obj</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Returned for success </li>
<li>CSL_ESYS_BADHANDLE - Invalid Cdc handle </li>
<li>CSL_ESYS_BADMEDIA - Media is Bad - Format needed </li>
<li>CSL_ESYS_MEDIA_NOTPRESENT - Media is not present</li>
</ul>
<p><b> Pre Condition </b> <br />
 None</p>
<p><b> Post Condition </b> <br />
 Initializes Cdc and Ctrl handles</p>
<p><b>Modifies</b> <br />
 Cdc and Ctrl handle data</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_CdcInitStructApp    cdcAppHandle;
        pCdcAppClassHandle      pAppClassHandle;
        Uint16                  cdcAppBuffer[420];
        CSL_Status              status;

        pAppClassHandle = &amp;cdcAppHandle;

        // Assign values to all the members in cdcAppHandle struct
        cdcAppHandle.pCdcObj = &amp;cdcAppBuffer[0];
        .....
        .....
        status = CDC_Open(pAppClassHandle);</pre><hr/>
<p>============================================================================ <br />
<b>CDC_Open</b> </p>
<p><b>Description</b> <br />
 This function Opens the CDC module. It initializes CDC and Ctrl handles with the data given by the application.</p>
<p>NOTE: THIS FUNCTION CONFIGURES USB CDC MODULE IN HIGH SPEED MODE</p>
<p><b>Arguments</b> </p><pre class="fragment">        pAppClassHandle      Application handle to the CDC Class Obj</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Returned for success </li>
<li>CSL_ESYS_BADHANDLE - Invalid CDC handle</li>
</ul>
<p><b> Pre Condition </b> <br />
 None</p>
<p><b> Post Condition </b> <br />
 Initializes CDC and Ctrl handles</p>
<p><b>Modifies</b> <br />
 CDC and Ctrl handle data</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_CdcInitStructApp    cdcAppHandle;
        pCdcAppClassHandle      pAppClassHandle;
        Uint16                  cdcAppBuffer[420];
        CSL_Status              status;

        pAppClassHandle = &amp;mscAppHandle;

        // Assign values to all the members in cdcAppHandle struct
        cdcAppHandle.pCdcObj = &amp;cdcAppBuffer[0];
        .....
        .....
        status = CDC_Open(pAppClassHandle);</pre><hr/>
 
</div>
</div>
<a class="anchor" id="ga4eff5c57a4063622bbe6a7b03d1dd558"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status CDC_OpenFullspeed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_s_l___c_d_c___d_a_t_a_s_t_r_u_c_t.html#ga5de458dc9b697770cc678dab4502d575">pCdcAppClassHandle</a>&#160;</td>
          <td class="paramname"><em>pAppClassHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_s_l___usb_config.html">CSL_UsbConfig</a> *&#160;</td>
          <td class="paramname"><em>usbConfig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>============================================================================ <br />
<b>CDC_OpenFullspeed</b> </p>
<p><b>Description</b> <br />
 This function Opens the Cdc module for fullspeed mode operation. It initializes Cdc and Ctrl handles with the data given by the application</p>
<p>NOTE: THIS FUNCTION CONFIGURES USB CDC MODULE IN FULLSPEED MODE</p>
<p><b>Arguments</b> </p><pre class="fragment">        pAppClassHandle      Application handle to the CDC Class Obj</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Returned for success </li>
<li>CSL_ESYS_BADHANDLE - Invalid Cdc handle </li>
<li>CSL_ESYS_BADMEDIA - Media is Bad - Format needed </li>
<li>CSL_ESYS_MEDIA_NOTPRESENT - Media is not present</li>
</ul>
<p><b> Pre Condition </b> <br />
 None</p>
<p><b> Post Condition </b> <br />
 Initializes Cdc and Ctrl handles</p>
<p><b>Modifies</b> <br />
 Cdc and Ctrl handle data</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_CdcInitStructApp    cdcAppHandle;
        pCdcAppClassHandle      pAppClassHandle;
        Uint16                  cdcAppBuffer[420];
        CSL_Status              status;

        pAppClassHandle = &amp;cdcAppHandle;

        // Assign values to all the members in cdcAppHandle struct
        cdcAppHandle.pCdcObj = &amp;cdcAppBuffer[0];
        .....
        .....
        status = CDC_OpenFullspeed(pAppClassHandle);</pre><hr/>
<p>============================================================================ <br />
<b>CDC_OpenFullspeed</b> </p>
<p><b>Description</b> <br />
 This function Opens the Cdc module for fullspeed mode operation. It initializes Cdc and Ctrl handles with the data given by the application</p>
<p>NOTE: THIS FUNCTION CONFIGURES USB CDC MODULE IN FULLSPEED MODE</p>
<p><b>Arguments</b> </p><pre class="fragment">        pAppClassHandle      Application handle to the CDC Class Obj</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Returned for success </li>
<li>CSL_ESYS_BADHANDLE - Invalid Cdc handle</li>
</ul>
<p><b> Pre Condition </b> <br />
 None</p>
<p><b> Post Condition </b> <br />
 Initializes Cdc and Ctrl handles</p>
<p><b>Modifies</b> <br />
 Cdc and Ctrl handle data</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_CdcInitStructApp    cdcAppHandle;
        pCdcAppClassHandle      pAppClassHandle;
        Uint16                  cdcAppBuffer[420];
        CSL_Status              status;

        pAppClassHandle = &amp;cdcAppHandle;

        // Assign values to all the members in cdcAppHandle struct
        cdcAppHandle.pCdcObj = &amp;cdcAppBuffer[0];
        .....
        .....
        status = CDC_OpenFullspeed(pAppClassHandle);</pre><hr/>
 
</div>
</div>
<a class="anchor" id="gaf8aedd6007bcb2c6a47afa47ee78e2ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Uint16 CDC_putData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_s_l___u_s_b___d_a_t_a_s_t_r_u_c_t.html#ga9d3c51d08e064287403a7debc79d8786">pUsbContext</a>&#160;</td>
          <td class="paramname"><em>pContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_s_l___cdc_init_struct_app.html">CSL_CdcInitStructApp</a> *&#160;</td>
          <td class="paramname"><em>cdcAppHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint16 *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint16&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>============================================================================ <br />
<b>CDC_putData</b> </p>
<p><b>Description</b> <br />
 This function sends out the data to the BULK IN</p>
<p><b>Arguments</b> </p><pre class="fragment">        pContext         Pointer to the USBContext structure
        hCdcClass        Handle to the CDC Class Obj
        data            the data to be transmitted
        size            the data size</pre><p><b> Return Value </b> - number of byte sent out </p><ul>
<li>0 - means the BULK IN is not ready for transmission </li>
<li>N &gt; 0 - means the transmission is done and N byte data has been sent out</li>
</ul>
<p><b> Pre Condition </b> <br />
 CDC module should be opened using CDC_Open/CDC_OpenFullspeed function</p>
<p><b> Post Condition </b> <br />
 Returns request processing status</p>
<p><b>Modifies</b> <br />
 None</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_CdcInitStructApp    cdcAppHandle;
        CSL_CdcClassStruct      cdcClassStruct;
        CSL_Status              status;
        Uint16                  uartData[80]
        Uint16                  uartdataSize;

        // Assign values to all the members in cdcAppHandle struct
        cdcAppHandle.pCdcObj = &amp;cdcClassStruct;
        .....
        .....
        status = CDC_Open(pAppClassHandle);
        ....
        ....
        // Echo the input from the host back to the host
        // Get data from the host
        uartDataSize = CDC_getData(pContext, &amp;CDC_AppHandle, uartData);
        // Echo it back, if there is an input
        if (uartDataSize&gt;0)
        {
            do
            {
                // CDC_putData will return 0 if the TX is not ready for the transaction
                retNum = CDC_putData(pContext, &amp;CDC_AppHandle, uartData, uartDataSize);
            } while (retNum==0);
        }
        ....
        ....</pre><hr/>
 
</div>
</div>
<a class="anchor" id="ga5e9a65cd3cdb4cece130254c22c9b98c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status CDC_Setup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___c_s_l___c_d_c___d_a_t_a_s_t_r_u_c_t.html#ga5de458dc9b697770cc678dab4502d575">pCdcAppClassHandle</a>&#160;</td>
          <td class="paramname"><em>pAppClassHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Bool&#160;</td>
          <td class="paramname"><em>usbSpeedCfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>============================================================================ <br />
<b>CDC_Setup</b> </p>
<p><b>Description</b> <br />
 This function used to setup the Cdc and Ctrl handles. This is an internal function and is called from CDC_Open or CDC_OpenFullspeed functions.</p>
<p><b>Arguments</b> </p><pre class="fragment">        pAppClassHandle      Application handle to the CDC Class Obj
        usbSpeedCfg          USB speed selection parameter
                             0 - USB CDC operates in fullspeed mode
                             1 - USB CDC operates in highspeed mode</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Returned for success </li>
<li>CSL_ESYS_BADHANDLE - Invalid Cdc handle </li>
<li>CSL_ESYS_BADMEDIA - Media is Bad - Format needed </li>
<li>CSL_ESYS_MEDIA_NOTPRESENT - Media is not present</li>
</ul>
<p><b> Pre Condition </b> <br />
 None</p>
<p><b> Post Condition </b> <br />
 Initializes Cdc and Ctrl handles</p>
<p><b>Modifies</b> <br />
 Cdc and Ctrl handle data</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_CdcInitStructApp    cdcAppHandle;
        pCdcAppClassHandle      pAppClassHandle;
        Uint16                  cdcAppBuffer[420];
        CSL_Status              status;

        pAppClassHandle = &amp;cdcAppHandle;

        // Assign values to all the members in cdcAppHandle struct
        cdcAppHandle.pCdcObj = &amp;cdcAppBuffer[0];
        .....
        .....
        // Setup USB for highspeed
        status = CDC_Setup(pAppClassHandle, TRUE);</pre><hr/>
<p>============================================================================ <br />
<b>CDC_Setup</b> </p>
<p><b>Description</b> <br />
 This function used to setup the Cdc and Ctrl handles. This is an internal function and is called from CDC_Open or CDC_OpenFullspeed functions.</p>
<p><b>Arguments</b> </p><pre class="fragment">        pAppClassHandle      Application handle to the CDC Class Obj
        usbSpeedCfg          USB speed selection parameter
                             0 - USB CDC operates in fullspeed mode
                             1 - USB CDC operates in highspeed mode</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Returned for success </li>
<li>CSL_ESYS_BADHANDLE - Invalid Cdc handle</li>
</ul>
<p><b> Pre Condition </b> <br />
 None</p>
<p><b> Post Condition </b> <br />
 Initializes Cdc and Ctrl handles</p>
<p><b>Modifies</b> <br />
 Cdc and Ctrl handle data</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_CdcInitStructApp    cdcAppHandle;
        pCdcAppClassHandle      pAppClassHandle;
        Uint16                  cdcAppBuffer[420];
        CSL_Status              status;

        pAppClassHandle = &amp;cdcAppHandle;

        // Assign values to all the members in cdcAppHandle struct
        cdcAppHandle.pCdcObj = &amp;cdcAppBuffer[0];
        .....
        .....
        // Setup USB for highspeed
        status = CDC_Setup(pAppClassHandle, TRUE);</pre><hr/>
 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
