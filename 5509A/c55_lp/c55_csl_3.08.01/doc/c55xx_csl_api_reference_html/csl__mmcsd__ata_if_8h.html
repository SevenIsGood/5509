<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>C55XX CSL 3.06.00 API: C:/c55_lp/git/c55_csl/c55xx_csl/inc/csl_mmcsd_ataIf.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">C55XX CSL 3.06.00 API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9bec7083027963d9f9ceae2cc7474de5.html">git</a></li><li class="navelem"><a class="el" href="dir_b939d78dbffbfe7544f76cce0512290d.html">c55_csl</a></li><li class="navelem"><a class="el" href="dir_0b9cbc4d9ead0ca0e71abd729070d16d.html">c55xx_csl</a></li><li class="navelem"><a class="el" href="dir_3b0a0a7299009ca78c426e6945861abc.html">inc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">csl_mmcsd_ataIf.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functional layer API header file for MMCSD ATA file system interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;ata.h&quot;</code><br />
<code>#include &quot;<a class="el" href="csl__types_8h_source.html">csl_types.h</a>&quot;</code><br />
</div>
<p><a href="csl__mmcsd__ata_if_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_ata_m_m_c_state.html">AtaMMCState</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure to hold the media ATA state values specific to MMCSD.  <a href="struct_ata_m_m_c_state.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga53c34b168261e46dad52108823188c87"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___s_y_m_b_o_l.html#ga53c34b168261e46dad52108823188c87">CSL_MMCSD_PAGE_SIZE</a>&#160;&#160;&#160;(512u)</td></tr>
<tr class="separator:ga53c34b168261e46dad52108823188c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81efd9427d99a82f8a35d31f54c27dad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___s_y_m_b_o_l.html#ga81efd9427d99a82f8a35d31f54c27dad">USE_ATA_NO_SWAP</a>&#160;&#160;&#160;(TRUE)</td></tr>
<tr class="separator:ga81efd9427d99a82f8a35d31f54c27dad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga00a82b9174aac154d0b6c29db35fca35"><td class="memItemLeft" align="right" valign="top">
typedef struct <a class="el" href="struct_ata_m_m_c_state.html">AtaMMCState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___d_a_t_a_s_t_r_u_c_t.html#ga00a82b9174aac154d0b6c29db35fca35">AtaMMCState</a></td></tr>
<tr class="memdesc:ga00a82b9174aac154d0b6c29db35fca35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure to hold the media ATA state values specific to MMCSD. <br /></td></tr>
<tr class="separator:ga00a82b9174aac154d0b6c29db35fca35"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adbe32db9421b9e93c6a0b11e6b89615c"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="csl__mmcsd__ata_if_8h.html#adbe32db9421b9e93c6a0b11e6b89615c">MMC_readWriteControl</a> (AtaSector phySector, void *pAtaMediaState, AtaUint16 *pWord, int byteSwap)</td></tr>
<tr class="separator:adbe32db9421b9e93c6a0b11e6b89615c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a124fb564fdc4f89e38cd751dbac170"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga4a124fb564fdc4f89e38cd751dbac170">MMC_initState</a> (<a class="el" href="struct_ata_state_struct.html">AtaState</a> *pDrive)</td></tr>
<tr class="separator:ga4a124fb564fdc4f89e38cd751dbac170"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga82778fe9313e874740bcd78a3f070cf8"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga82778fe9313e874740bcd78a3f070cf8">MMC_issueReadCommand</a> (AtaSector phySector, void *pAtaMediaState, AtaUint16 sectorCount)</td></tr>
<tr class="separator:ga82778fe9313e874740bcd78a3f070cf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac33a4b6e29921e909ba63fbf23aaca6e"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#gac33a4b6e29921e909ba63fbf23aaca6e">MMC_readNextWord</a> (void *pAtaMediaState, AtaUint16 *pWord)</td></tr>
<tr class="separator:gac33a4b6e29921e909ba63fbf23aaca6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ccf47efae5b6671edfb4e50715e128b"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga8ccf47efae5b6671edfb4e50715e128b">MMC_readNextWord1</a> (void *pAtaMediaState, AtaUint16 *pWord, AtaUint16 word_delta)</td></tr>
<tr class="separator:ga8ccf47efae5b6671edfb4e50715e128b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42474102f50665ea6e3e0b909e0b6957"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga42474102f50665ea6e3e0b909e0b6957">MMC_readNextNWords</a> (void *pAtaMediaState, AtaUint16 *pData, AtaUint16 words)</td></tr>
<tr class="separator:ga42474102f50665ea6e3e0b909e0b6957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad904a36b62dff38809b18706f2b217a8"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#gad904a36b62dff38809b18706f2b217a8">MMC_writeSector</a> (AtaSector phySector, void *pAtaMediaState, AtaUint16 *pWord, int byteSwap)</td></tr>
<tr class="separator:gad904a36b62dff38809b18706f2b217a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52ba79b3047d32681fd2f3e507df2792"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga52ba79b3047d32681fd2f3e507df2792">MMC_readNSectors</a> (void *pAtaMediaState, AtaUint16 *pReadBuf, AtaSector startSector, AtaUint16 sectorCount)</td></tr>
<tr class="separator:ga52ba79b3047d32681fd2f3e507df2792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ce2cec113d65fdb5a88bdd6f462e330"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga1ce2cec113d65fdb5a88bdd6f462e330">MMC_writeNSectors</a> (void *pAtaMediaState, AtaUint16 *pWriteBuf, AtaSector startSector, AtaUint16 sectorCount)</td></tr>
<tr class="separator:ga1ce2cec113d65fdb5a88bdd6f462e330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b287854bf37514bd37abbfc5eb6d278"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga3b287854bf37514bd37abbfc5eb6d278">MMC_read_CID</a> (void *pAtaMediaState, unsigned int *pBuf)</td></tr>
<tr class="separator:ga3b287854bf37514bd37abbfc5eb6d278"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad815e54ad246ae449a41e7b4c7e7665b"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#gad815e54ad246ae449a41e7b4c7e7665b">MMC_read_CSD</a> (void *pAtaMediaState, unsigned int *pBuf)</td></tr>
<tr class="separator:gad815e54ad246ae449a41e7b4c7e7665b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga387ce86f026b4c9a65f057bd0d4bf0dc"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga387ce86f026b4c9a65f057bd0d4bf0dc">MMC_writeSectorFlush</a> (void *pAtaMediaState)</td></tr>
<tr class="separator:ga387ce86f026b4c9a65f057bd0d4bf0dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga002536f323acd8cdcecad9173bb2663a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga002536f323acd8cdcecad9173bb2663a">MMC_commandReadyStatusCheck</a> (void *pAtaMediaState)</td></tr>
<tr class="separator:ga002536f323acd8cdcecad9173bb2663a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad12d09d9b9660efa91fe5c7f7ed1352c"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#gad12d09d9b9660efa91fe5c7f7ed1352c">MMC_dataReadyStatusCheck</a> (void *pAtaMediaState)</td></tr>
<tr class="separator:gad12d09d9b9660efa91fe5c7f7ed1352c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf98518d61cbf3f71d490016ca130f890"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#gaf98518d61cbf3f71d490016ca130f890">MMC_busyStatusCheck</a> (void *pAtaMediaState)</td></tr>
<tr class="separator:gaf98518d61cbf3f71d490016ca130f890"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf582af3048a97a1354accc831339d7a2"><td class="memItemLeft" align="right" valign="top">AtaUint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#gaf582af3048a97a1354accc831339d7a2">MMC_getSerialID</a> (void *pAtaMediaState, AtaSerialID *pSerID)</td></tr>
<tr class="separator:gaf582af3048a97a1354accc831339d7a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26f99b002a33a81075edf1fd77ee6aa4"><td class="memItemLeft" align="right" valign="top">AtaUint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga26f99b002a33a81075edf1fd77ee6aa4">MMC_file_system_format</a> (void *pAtaMediaState)</td></tr>
<tr class="separator:ga26f99b002a33a81075edf1fd77ee6aa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd44c2a140fd9eb1c97e623515b256aa"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#gafd44c2a140fd9eb1c97e623515b256aa">MMC_reset</a> (void *pAtaMediaState)</td></tr>
<tr class="separator:gafd44c2a140fd9eb1c97e623515b256aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c89af9f936bf0bd0ca53585406e4a7b"><td class="memItemLeft" align="right" valign="top">AtaUint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga2c89af9f936bf0bd0ca53585406e4a7b">MMC_get_time</a> (void)</td></tr>
<tr class="separator:ga2c89af9f936bf0bd0ca53585406e4a7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae05d86cbca3a1aaacc03fda968bfc15d"><td class="memItemLeft" align="right" valign="top">AtaUint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#gae05d86cbca3a1aaacc03fda968bfc15d">MMC_get_mod_time</a> (void)</td></tr>
<tr class="separator:gae05d86cbca3a1aaacc03fda968bfc15d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga925e89ab4b717172b1a2ef7dbdf40b2b"><td class="memItemLeft" align="right" valign="top">AtaUint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga925e89ab4b717172b1a2ef7dbdf40b2b">MMC_get_date</a> (void)</td></tr>
<tr class="separator:ga925e89ab4b717172b1a2ef7dbdf40b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab0a34021ba2878cb90c65d894a6c9d5c"><td class="memItemLeft" align="right" valign="top">AtaUint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#gab0a34021ba2878cb90c65d894a6c9d5c">MMC_get_mod_date</a> (void)</td></tr>
<tr class="separator:gab0a34021ba2878cb90c65d894a6c9d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a0cb92aff7fccadf76863408e31fd91"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga1a0cb92aff7fccadf76863408e31fd91">MMC_flushFat</a> (void *pAtaMediaState)</td></tr>
<tr class="separator:ga1a0cb92aff7fccadf76863408e31fd91"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functional layer API header file for MMCSD ATA file system interface. </p>
<p>Path: (CSLPATH)\ inc </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="adbe32db9421b9e93c6a0b11e6b89615c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AtaError MMC_readWriteControl </td>
          <td>(</td>
          <td class="paramtype">AtaSector&#160;</td>
          <td class="paramname"><em>phySector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pAtaMediaState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AtaUint16 *&#160;</td>
          <td class="paramname"><em>pWord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>last_sector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>=========================================================================== <br />
<b>MMC_readWriteControl</b> //KR041110</p>
<p><b>Description</b> <br />
 This function is used to cache and write data to the media. This function can write 1 to 4 sectors each sector containing 512 bytes</p>
<p><b>Arguments</b> </p><pre class="fragment">        phySector         Sector number from which data needs to be read
        pAtaMediaState    ATA media state structure
        pWord             Write data buffer
        last_sector       Flag to flush cache</pre><p><b> Return Value </b> AtaError </p><ul>
<li>ATA_ERROR_NONE - Returned for success </li>
<li>ATA_ERROR_INVALID_PARAM - Returned for Invalid input parameters </li>
<li>ATA_ERROR_TIMEOUT - Time out Error Occurred </li>
<li>ATA_ERROR_UNSUPPORTED - MMC/SD hardware is not supported</li>
</ul>
<p><b> Pre Condition </b> <br />
 MMC_initState API should be called successfully.</p>
<p><b> Post Condition </b> <br />
 Writes Data to MMC/SD card</p>
<p><b>Modifies</b> <br />
 MMCSD Sector data</p>
<p><b>Example</b> </p><pre class="fragment">        #define CSL_MMCSD_BUF_SIZE (256u)

        AtaMMCState    ataMediaState;
        AtaState       ataState;
        AtaState       *pAtaState;
        AtaError       ataErr;
        AtaSector      phySector;
        AtaUint16      writeBuf[CSL_MMCSD_BUF_SIZE];

        pAtaState = &amp;ataState;

        phySector = 0;
        ataState-&gt;pAtaMediaState = &amp;ataMediaState;

        ataErr = MMC_initState(&amp;ataState);

        ataErr = pAtaState-&gt;AtaWriteSector(phySector,
                                           ataState-&gt;pAtaMediaState,
                                           writeBuf, FALSE);</pre><hr/>
 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
