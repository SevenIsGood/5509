<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>C55XX CSL 3.06.00 API: C:/c55_lp/git/c55_csl/c55xx_csl/src/csl_mmcsd_ataIf.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">C55XX CSL 3.06.00 API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9bec7083027963d9f9ceae2cc7474de5.html">git</a></li><li class="navelem"><a class="el" href="dir_b939d78dbffbfe7544f76cce0512290d.html">c55_csl</a></li><li class="navelem"><a class="el" href="dir_0b9cbc4d9ead0ca0e71abd729070d16d.html">c55xx_csl</a></li><li class="navelem"><a class="el" href="dir_5986da1996cde1ed12f6db6db0db090f.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">csl_mmcsd_ataIf.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functional layer API source file for MMCSD ATA file system interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="csl__mmcsd_8h_source.html">csl_mmcsd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="csl__mmcsd__ata_if_8h_source.html">csl_mmcsd_ataIf.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ade38862d42eb7a8a274d8031490a559e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade38862d42eb7a8a274d8031490a559e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ENABLE_CACHE</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ade38862d42eb7a8a274d8031490a559e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affa09b0b4542c39965cf0a18cb94bbf5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="affa09b0b4542c39965cf0a18cb94bbf5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ENABLE_READ_CACHE</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:affa09b0b4542c39965cf0a18cb94bbf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0240ac851181b84ac374872dc5434ee4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0240ac851181b84ac374872dc5434ee4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>N</b>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a0240ac851181b84ac374872dc5434ee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf64c261c28332edbea9b9f295d269b2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaf64c261c28332edbea9b9f295d269b2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>READ_BUFF_SIZE</b>&#160;&#160;&#160;256</td></tr>
<tr class="separator:aaf64c261c28332edbea9b9f295d269b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4a124fb564fdc4f89e38cd751dbac170"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga4a124fb564fdc4f89e38cd751dbac170">MMC_initState</a> (<a class="el" href="struct_ata_state_struct.html">AtaState</a> *pDrive)</td></tr>
<tr class="separator:ga4a124fb564fdc4f89e38cd751dbac170"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33db19f4e4d265e2f76bb99309534c85"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="csl__mmcsd__ata_if_8c.html#a33db19f4e4d265e2f76bb99309534c85">MMC_readWriteControl</a> (AtaSector phySector, void *pAtaMediaState, AtaUint16 *pWord, int last_sector)</td></tr>
<tr class="separator:a33db19f4e4d265e2f76bb99309534c85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga82778fe9313e874740bcd78a3f070cf8"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga82778fe9313e874740bcd78a3f070cf8">MMC_issueReadCommand</a> (AtaSector phySector, void *pAtaMediaState, AtaUint16 sectorCount)</td></tr>
<tr class="separator:ga82778fe9313e874740bcd78a3f070cf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac33a4b6e29921e909ba63fbf23aaca6e"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#gac33a4b6e29921e909ba63fbf23aaca6e">MMC_readNextWord</a> (void *pAtaMediaState, AtaUint16 *pWord)</td></tr>
<tr class="separator:gac33a4b6e29921e909ba63fbf23aaca6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ccf47efae5b6671edfb4e50715e128b"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga8ccf47efae5b6671edfb4e50715e128b">MMC_readNextWord1</a> (void *pAtaMediaState, AtaUint16 *pWord, AtaUint16 word_delta)</td></tr>
<tr class="separator:ga8ccf47efae5b6671edfb4e50715e128b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42474102f50665ea6e3e0b909e0b6957"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga42474102f50665ea6e3e0b909e0b6957">MMC_readNextNWords</a> (void *pAtaMediaState, AtaUint16 *pData, AtaUint16 words)</td></tr>
<tr class="separator:ga42474102f50665ea6e3e0b909e0b6957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad904a36b62dff38809b18706f2b217a8"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#gad904a36b62dff38809b18706f2b217a8">MMC_writeSector</a> (AtaSector phySector, void *pAtaMediaState, AtaUint16 *pWord, int byteSwap)</td></tr>
<tr class="separator:gad904a36b62dff38809b18706f2b217a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52ba79b3047d32681fd2f3e507df2792"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga52ba79b3047d32681fd2f3e507df2792">MMC_readNSectors</a> (void *pAtaMediaState, AtaUint16 *pReadBuf, AtaSector startSector, AtaUint16 sectorCount)</td></tr>
<tr class="separator:ga52ba79b3047d32681fd2f3e507df2792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ce2cec113d65fdb5a88bdd6f462e330"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga1ce2cec113d65fdb5a88bdd6f462e330">MMC_writeNSectors</a> (void *pAtaMediaState, AtaUint16 *pWriteBuf, AtaSector startSector, AtaUint16 sectorCount)</td></tr>
<tr class="separator:ga1ce2cec113d65fdb5a88bdd6f462e330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b287854bf37514bd37abbfc5eb6d278"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga3b287854bf37514bd37abbfc5eb6d278">MMC_read_CID</a> (void *pAtaMediaState, unsigned int *pBuf)</td></tr>
<tr class="separator:ga3b287854bf37514bd37abbfc5eb6d278"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad815e54ad246ae449a41e7b4c7e7665b"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#gad815e54ad246ae449a41e7b4c7e7665b">MMC_read_CSD</a> (void *pAtaMediaState, unsigned int *pBuf)</td></tr>
<tr class="separator:gad815e54ad246ae449a41e7b4c7e7665b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga387ce86f026b4c9a65f057bd0d4bf0dc"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga387ce86f026b4c9a65f057bd0d4bf0dc">MMC_writeSectorFlush</a> (void *pAtaMediaState)</td></tr>
<tr class="separator:ga387ce86f026b4c9a65f057bd0d4bf0dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga002536f323acd8cdcecad9173bb2663a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga002536f323acd8cdcecad9173bb2663a">MMC_commandReadyStatusCheck</a> (void *pAtaMediaState)</td></tr>
<tr class="separator:ga002536f323acd8cdcecad9173bb2663a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad12d09d9b9660efa91fe5c7f7ed1352c"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#gad12d09d9b9660efa91fe5c7f7ed1352c">MMC_dataReadyStatusCheck</a> (void *pAtaMediaState)</td></tr>
<tr class="separator:gad12d09d9b9660efa91fe5c7f7ed1352c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf98518d61cbf3f71d490016ca130f890"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#gaf98518d61cbf3f71d490016ca130f890">MMC_busyStatusCheck</a> (void *pAtaMediaState)</td></tr>
<tr class="separator:gaf98518d61cbf3f71d490016ca130f890"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf582af3048a97a1354accc831339d7a2"><td class="memItemLeft" align="right" valign="top">AtaUint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#gaf582af3048a97a1354accc831339d7a2">MMC_getSerialID</a> (void *pAtaMediaState, AtaSerialID *pSerID)</td></tr>
<tr class="separator:gaf582af3048a97a1354accc831339d7a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26f99b002a33a81075edf1fd77ee6aa4"><td class="memItemLeft" align="right" valign="top">AtaUint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga26f99b002a33a81075edf1fd77ee6aa4">MMC_file_system_format</a> (void *pAtaMediaState)</td></tr>
<tr class="separator:ga26f99b002a33a81075edf1fd77ee6aa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd44c2a140fd9eb1c97e623515b256aa"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#gafd44c2a140fd9eb1c97e623515b256aa">MMC_reset</a> (void *pAtaMediaState)</td></tr>
<tr class="separator:gafd44c2a140fd9eb1c97e623515b256aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c89af9f936bf0bd0ca53585406e4a7b"><td class="memItemLeft" align="right" valign="top">AtaUint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga2c89af9f936bf0bd0ca53585406e4a7b">MMC_get_time</a> (void)</td></tr>
<tr class="separator:ga2c89af9f936bf0bd0ca53585406e4a7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae05d86cbca3a1aaacc03fda968bfc15d"><td class="memItemLeft" align="right" valign="top">AtaUint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#gae05d86cbca3a1aaacc03fda968bfc15d">MMC_get_mod_time</a> (void)</td></tr>
<tr class="separator:gae05d86cbca3a1aaacc03fda968bfc15d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga925e89ab4b717172b1a2ef7dbdf40b2b"><td class="memItemLeft" align="right" valign="top">AtaUint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga925e89ab4b717172b1a2ef7dbdf40b2b">MMC_get_date</a> (void)</td></tr>
<tr class="separator:ga925e89ab4b717172b1a2ef7dbdf40b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab0a34021ba2878cb90c65d894a6c9d5c"><td class="memItemLeft" align="right" valign="top">AtaUint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#gab0a34021ba2878cb90c65d894a6c9d5c">MMC_get_mod_date</a> (void)</td></tr>
<tr class="separator:gab0a34021ba2878cb90c65d894a6c9d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a0cb92aff7fccadf76863408e31fd91"><td class="memItemLeft" align="right" valign="top">AtaError&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_s_l___m_m_c_s_d___f_u_n_c_t_i_o_n.html#ga1a0cb92aff7fccadf76863408e31fd91">MMC_flushFat</a> (void *pAtaMediaState)</td></tr>
<tr class="separator:ga1a0cb92aff7fccadf76863408e31fd91"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad44ed7abf0b8d783aa5b49bbf587006e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad44ed7abf0b8d783aa5b49bbf587006e"></a>
Uint32&#160;</td><td class="memItemRight" valign="bottom"><b>gCountRead</b> = 0</td></tr>
<tr class="separator:ad44ed7abf0b8d783aa5b49bbf587006e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f19d1281bf7d8588d64a8ffbc0e5fe5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2f19d1281bf7d8588d64a8ffbc0e5fe5"></a>
Uint16&#160;</td><td class="memItemRight" valign="bottom"><b>ReadNBufs</b> [N *<a class="el" href="group___c_s_l___m_m_c_s_d___s_y_m_b_o_l.html#ga53c34b168261e46dad52108823188c87">CSL_MMCSD_PAGE_SIZE</a>/2] = {0xbb,}</td></tr>
<tr class="separator:a2f19d1281bf7d8588d64a8ffbc0e5fe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dc8149d3679f095269c5cf32a551d5a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7dc8149d3679f095269c5cf32a551d5a"></a>
AtaSector&#160;</td><td class="memItemRight" valign="bottom"><b>sector</b> [N]</td></tr>
<tr class="separator:a7dc8149d3679f095269c5cf32a551d5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefec6071f859dc67a35c65c20e148595"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aefec6071f859dc67a35c65c20e148595"></a>
Uint16&#160;</td><td class="memItemRight" valign="bottom"><b>count</b></td></tr>
<tr class="separator:aefec6071f859dc67a35c65c20e148595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a224072f389d7e120cc1d693fc9a94810"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a224072f389d7e120cc1d693fc9a94810"></a>
Uint32&#160;</td><td class="memItemRight" valign="bottom"><b>gWriteSector</b> = 0</td></tr>
<tr class="separator:a224072f389d7e120cc1d693fc9a94810"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76d5210b819e2dc1d873339f59897a65"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a76d5210b819e2dc1d873339f59897a65"></a>
Uint16&#160;</td><td class="memItemRight" valign="bottom"><b>gDoneWrite</b> = 0</td></tr>
<tr class="separator:a76d5210b819e2dc1d873339f59897a65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80b3ecc4efa5ec33f1d6695b3440188a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a80b3ecc4efa5ec33f1d6695b3440188a"></a>
Uint16&#160;</td><td class="memItemRight" valign="bottom"><b>gReadBuf</b> [<a class="el" href="group___c_s_l___m_m_c_s_d___s_y_m_b_o_l.html#ga53c34b168261e46dad52108823188c87">CSL_MMCSD_PAGE_SIZE</a>/2]</td></tr>
<tr class="separator:a80b3ecc4efa5ec33f1d6695b3440188a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8457c691b4bd3a2b1e2fa7b1ec8cc00"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae8457c691b4bd3a2b1e2fa7b1ec8cc00"></a>
Uint16&#160;</td><td class="memItemRight" valign="bottom"><b>sectBuffered</b></td></tr>
<tr class="separator:ae8457c691b4bd3a2b1e2fa7b1ec8cc00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe0acb4f47707640eee3151301f3cfb0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe0acb4f47707640eee3151301f3cfb0"></a>
Uint16&#160;</td><td class="memItemRight" valign="bottom"><b>gWordCount</b> = READ_BUFF_SIZE</td></tr>
<tr class="separator:afe0acb4f47707640eee3151301f3cfb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae25b5cf2b40df77bbf4d95b8d180ad7b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae25b5cf2b40df77bbf4d95b8d180ad7b"></a>
AtaSector&#160;</td><td class="memItemRight" valign="bottom"><b>gNextPhySector</b> = 0</td></tr>
<tr class="separator:ae25b5cf2b40df77bbf4d95b8d180ad7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10b79d80fa7934239e51e1499b66a494"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a10b79d80fa7934239e51e1499b66a494"></a>
Uint16&#160;</td><td class="memItemRight" valign="bottom"><b>gWriteBuf</b> [2 *<a class="el" href="group___c_s_l___m_m_c_s_d___s_y_m_b_o_l.html#ga53c34b168261e46dad52108823188c87">CSL_MMCSD_PAGE_SIZE</a>]</td></tr>
<tr class="separator:a10b79d80fa7934239e51e1499b66a494"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a943f3ed08923d5970085c426230c7f67"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a943f3ed08923d5970085c426230c7f67"></a>
AtaSector&#160;</td><td class="memItemRight" valign="bottom"><b>cached_phySector0</b></td></tr>
<tr class="separator:a943f3ed08923d5970085c426230c7f67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a407bf8ed5049be7e3e78eb349995cc76"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a407bf8ed5049be7e3e78eb349995cc76"></a>
AtaSector&#160;</td><td class="memItemRight" valign="bottom"><b>cached_phySector1</b></td></tr>
<tr class="separator:a407bf8ed5049be7e3e78eb349995cc76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10066b8d8c01c4dff22b916274eb1a4f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a10066b8d8c01c4dff22b916274eb1a4f"></a>
AtaSector&#160;</td><td class="memItemRight" valign="bottom"><b>cached_phySector2</b></td></tr>
<tr class="separator:a10066b8d8c01c4dff22b916274eb1a4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a256ed643b366c73796329e1ab4754c81"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a256ed643b366c73796329e1ab4754c81"></a>
AtaSector&#160;</td><td class="memItemRight" valign="bottom"><b>cached_phySector3</b></td></tr>
<tr class="separator:a256ed643b366c73796329e1ab4754c81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3934acb589a73d8435941617c23dde5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab3934acb589a73d8435941617c23dde5"></a>
AtaUint16&#160;</td><td class="memItemRight" valign="bottom"><b>nbuf_cached</b> =0</td></tr>
<tr class="separator:ab3934acb589a73d8435941617c23dde5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functional layer API source file for MMCSD ATA file system interface. </p>
<p>Path: (CSLPATH)\ src </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a33db19f4e4d265e2f76bb99309534c85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AtaError MMC_readWriteControl </td>
          <td>(</td>
          <td class="paramtype">AtaSector&#160;</td>
          <td class="paramname"><em>phySector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pAtaMediaState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">AtaUint16 *&#160;</td>
          <td class="paramname"><em>pWord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>last_sector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>=========================================================================== <br />
<b>MMC_readWriteControl</b> //KR041110</p>
<p><b>Description</b> <br />
 This function is used to cache and write data to the media. This function can write 1 to 4 sectors each sector containing 512 bytes</p>
<p><b>Arguments</b> </p><pre class="fragment">        phySector         Sector number from which data needs to be read
        pAtaMediaState    ATA media state structure
        pWord             Write data buffer
        last_sector       Flag to flush cache</pre><p><b> Return Value </b> AtaError </p><ul>
<li>ATA_ERROR_NONE - Returned for success </li>
<li>ATA_ERROR_INVALID_PARAM - Returned for Invalid input parameters </li>
<li>ATA_ERROR_TIMEOUT - Time out Error Occurred </li>
<li>ATA_ERROR_UNSUPPORTED - MMC/SD hardware is not supported</li>
</ul>
<p><b> Pre Condition </b> <br />
 MMC_initState API should be called successfully.</p>
<p><b> Post Condition </b> <br />
 Writes Data to MMC/SD card</p>
<p><b>Modifies</b> <br />
 MMCSD Sector data</p>
<p><b>Example</b> </p><pre class="fragment">        #define CSL_MMCSD_BUF_SIZE (256u)

        AtaMMCState    ataMediaState;
        AtaState       ataState;
        AtaState       *pAtaState;
        AtaError       ataErr;
        AtaSector      phySector;
        AtaUint16      writeBuf[CSL_MMCSD_BUF_SIZE];

        pAtaState = &amp;ataState;

        phySector = 0;
        ataState-&gt;pAtaMediaState = &amp;ataMediaState;

        ataErr = MMC_initState(&amp;ataState);

        ataErr = pAtaState-&gt;AtaWriteSector(phySector,
                                           ataState-&gt;pAtaMediaState,
                                           writeBuf, FALSE);</pre><hr/>
 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
