<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>C55XX CSL 3.06.00 Examples: C:/c55_lp/git/c55_csl/c55xx_csl/ccs_v6.x_examples/mmc_sd/CSL_MMCSD_intrExample/csl_mmcsd_intr_example.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">C55XX CSL 3.06.00 Examples
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9bec7083027963d9f9ceae2cc7474de5.html">git</a></li><li class="navelem"><a class="el" href="dir_b939d78dbffbfe7544f76cce0512290d.html">c55_csl</a></li><li class="navelem"><a class="el" href="dir_0b9cbc4d9ead0ca0e71abd729070d16d.html">c55xx_csl</a></li><li class="navelem"><a class="el" href="dir_e9ea15cd39a126421ac4b41739582c90.html">ccs_v6.x_examples</a></li><li class="navelem"><a class="el" href="dir_d8d753ab26b03ba985fec04f5af4edf9.html">mmc_sd</a></li><li class="navelem"><a class="el" href="dir_dac0c7cb0e0ea855898c75e72a73ccde.html">CSL_MMCSD_intrExample</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">csl_mmcsd_intr_example.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>CSL MMCSD interrupt mode test code.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;csl_mmcsd.h&gt;</code><br />
<code>#include &lt;csl_intc.h&gt;</code><br />
<code>#include &lt;csl_pll.h&gt;</code><br />
<code>#include &lt;csl_general.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;csl_sysctrl.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6af23dc8e878e337457c36bdfa2e38a5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6af23dc8e878e337457c36bdfa2e38a5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BUFFER_MAX_SIZE</b>&#160;&#160;&#160;(256u)</td></tr>
<tr class="separator:a6af23dc8e878e337457c36bdfa2e38a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8b5f5238686494aa625c5bdbd6811ca"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af8b5f5238686494aa625c5bdbd6811ca"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CARD_START_ADDR</b>&#160;&#160;&#160;(0x0)</td></tr>
<tr class="separator:af8b5f5238686494aa625c5bdbd6811ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36930323fbfd5657c45564f7b084e016"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a36930323fbfd5657c45564f7b084e016"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CSL_SD_CLOCK_MAX_KHZ</b>&#160;&#160;&#160;(20000u)</td></tr>
<tr class="separator:a36930323fbfd5657c45564f7b084e016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30a69553c0172d93bddf728ab8a263c5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a30a69553c0172d93bddf728ab8a263c5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CSL_MMC_CLOCK_MAX_KHZ</b>&#160;&#160;&#160;(5000u)</td></tr>
<tr class="separator:a30a69553c0172d93bddf728ab8a263c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4f9daa63bbed24afba634f7385242540"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4f9daa63bbed24afba634f7385242540"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>VECSTART</b> (void)</td></tr>
<tr class="separator:a4f9daa63bbed24afba634f7385242540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6922c425b2a58d2fa7c88b1781eedd6b"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="csl__mmcsd__intr__example_8c.html#a6922c425b2a58d2fa7c88b1781eedd6b">mmcsdIntrTest</a> (void)</td></tr>
<tr class="memdesc:a6922c425b2a58d2fa7c88b1781eedd6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to test the MMCSD module in interrupt mode.  <a href="#a6922c425b2a58d2fa7c88b1781eedd6b">More...</a><br /></td></tr>
<tr class="separator:a6922c425b2a58d2fa7c88b1781eedd6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ae7327c745d28474f36ac7e698f12b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="csl__mmcsd__intr__example_8c.html#a5ae7327c745d28474f36ac7e698f12b3">mmcsdTransferDoneCallBack</a> (void *mmcsdHandle)</td></tr>
<tr class="memdesc:a5ae7327c745d28474f36ac7e698f12b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">MMCSD call back function.  <a href="#a5ae7327c745d28474f36ac7e698f12b3">More...</a><br /></td></tr>
<tr class="separator:a5ae7327c745d28474f36ac7e698f12b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeac5183ab4bfdc423d6f4d72cb2a5b7f"><td class="memItemLeft" align="right" valign="top">interrupt void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="csl__mmcsd__intr__example_8c.html#aeac5183ab4bfdc423d6f4d72cb2a5b7f">mmcsd_isr</a> (void)</td></tr>
<tr class="memdesc:aeac5183ab4bfdc423d6f4d72cb2a5b7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">MMCSD ISR function.  <a href="#aeac5183ab4bfdc423d6f4d72cb2a5b7f">More...</a><br /></td></tr>
<tr class="separator:aeac5183ab4bfdc423d6f4d72cb2a5b7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5966f8ae8f71fe191b7c9d294a8753e"><td class="memItemLeft" align="right" valign="top">Uint16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="csl__mmcsd__intr__example_8c.html#af5966f8ae8f71fe191b7c9d294a8753e">computeClkRate</a> (Uint32 memMaxClk)</td></tr>
<tr class="memdesc:af5966f8ae8f71fe191b7c9d294a8753e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to calculate the memory clock rate.  <a href="#af5966f8ae8f71fe191b7c9d294a8753e">More...</a><br /></td></tr>
<tr class="separator:af5966f8ae8f71fe191b7c9d294a8753e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6288eba0f8e8ad3ab1544ad731eb7667"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6288eba0f8e8ad3ab1544ad731eb7667"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> (void)</td></tr>
<tr class="separator:a6288eba0f8e8ad3ab1544ad731eb7667"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2e923f1843ef0f01fdb3fb472c343998"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2e923f1843ef0f01fdb3fb472c343998"></a>
CSL_MMCControllerObj&#160;</td><td class="memItemRight" valign="bottom"><b>pMmcsdContObj</b></td></tr>
<tr class="separator:a2e923f1843ef0f01fdb3fb472c343998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67a47add92619d00ea45d543087d0f4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa67a47add92619d00ea45d543087d0f4"></a>
CSL_MmcsdHandle&#160;</td><td class="memItemRight" valign="bottom"><b>mmcsdHandle</b></td></tr>
<tr class="separator:aa67a47add92619d00ea45d543087d0f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a997ce9e1975fa6e11a71f2289d59e51a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a997ce9e1975fa6e11a71f2289d59e51a"></a>
CSL_MMCCardObj&#160;</td><td class="memItemRight" valign="bottom"><b>mmcCardObj</b></td></tr>
<tr class="separator:a997ce9e1975fa6e11a71f2289d59e51a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6df3ccf7598c6585dbc74e0093643b5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad6df3ccf7598c6585dbc74e0093643b5"></a>
CSL_MMCCardIdObj&#160;</td><td class="memItemRight" valign="bottom"><b>cardIdObj</b></td></tr>
<tr class="separator:ad6df3ccf7598c6585dbc74e0093643b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3bb8f693bbd1c48e75a0fc35e93698e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab3bb8f693bbd1c48e75a0fc35e93698e"></a>
CSL_MMCCardCsdObj&#160;</td><td class="memItemRight" valign="bottom"><b>cardCsdObj</b></td></tr>
<tr class="separator:ab3bb8f693bbd1c48e75a0fc35e93698e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b4484a9e6698e35b50c7b7119cb494c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2b4484a9e6698e35b50c7b7119cb494c"></a>
volatile Bool&#160;</td><td class="memItemRight" valign="bottom"><b>gMmcIntr</b> = FALSE</td></tr>
<tr class="separator:a2b4484a9e6698e35b50c7b7119cb494c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a737acdc0b602da4641c6d1ee39a80bb4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a737acdc0b602da4641c6d1ee39a80bb4"></a>
Uint16&#160;</td><td class="memItemRight" valign="bottom"><b>gReadBuf</b> [BUFFER_MAX_SIZE]</td></tr>
<tr class="separator:a737acdc0b602da4641c6d1ee39a80bb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61bcc54fb1622f8b2217c9cf2b35d0ed"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a61bcc54fb1622f8b2217c9cf2b35d0ed"></a>
Uint16&#160;</td><td class="memItemRight" valign="bottom"><b>gWriteBuf</b> [BUFFER_MAX_SIZE]</td></tr>
<tr class="separator:a61bcc54fb1622f8b2217c9cf2b35d0ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef546e346fdce3fe84718755a98d61b8"><td class="memItemLeft" align="right" valign="top">volatile Int16&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="csl__mmcsd__intr__example_8c.html#aef546e346fdce3fe84718755a98d61b8">PaSs_StAtE</a> = 0x0001</td></tr>
<tr class="memdesc:aef546e346fdce3fe84718755a98d61b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function to call the DMA test functions.  <a href="#aef546e346fdce3fe84718755a98d61b8">More...</a><br /></td></tr>
<tr class="separator:aef546e346fdce3fe84718755a98d61b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1e18b86b1fb1d43808ea4bd8b75a10e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac1e18b86b1fb1d43808ea4bd8b75a10e"></a>
volatile Int16&#160;</td><td class="memItemRight" valign="bottom"><b>PaSs</b> = 0x0000</td></tr>
<tr class="separator:ac1e18b86b1fb1d43808ea4bd8b75a10e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>CSL MMCSD interrupt mode test code. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af5966f8ae8f71fe191b7c9d294a8753e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Uint16 computeClkRate </td>
          <td>(</td>
          <td class="paramtype">Uint32&#160;</td>
          <td class="paramname"><em>memMaxClk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to calculate the memory clock rate. </p>
<p>This function computes the memory clock rate value depending on the CPU frequency. This value is used as clock divider value for calling the API MMC_sendOpCond(). Value of the clock rate computed by this function will change depending on the system clock value and MMC maximum clock value passed as parameter to this function. Minimum clock rate value returned by this function is 0 and maximum clock rate value returned by this function is 255. Clock derived using the clock rate returned by this API will be the nearest value to 'memMaxClk'.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">memMaxClk</td><td>- Maximum memory clock rate</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MMC clock rate value </dd></dl>

</div>
</div>
<a class="anchor" id="aeac5183ab4bfdc423d6f4d72cb2a5b7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">interrupt void mmcsd_isr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MMCSD ISR function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="a6922c425b2a58d2fa7c88b1781eedd6b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status mmcsdIntrTest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to test the MMCSD module in interrupt mode. </p>
<p>This function tests interrupt mode operation of MMCSD. This function can be used to test MMC, SD and SDHC. cards in DMA mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Test result </dd></dl>

</div>
</div>
<a class="anchor" id="a5ae7327c745d28474f36ac7e698f12b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmcsdTransferDoneCallBack </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mmcsdHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>MMCSD call back function. </p>
<p>This function is called from the MMCSD read and write APIs during interrupt mode data transfer</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="aef546e346fdce3fe84718755a98d61b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile Int16 PaSs_StAtE = 0x0001</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function to call the DMA test functions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
