<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>C55XX CSL 3.06.00 Examples: C:/c55_lp/git/c55_csl/c55xx_csl/ccs_v6.x_examples/gpt/CSL_GPT_DMA_Example/csl_dma.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">C55XX CSL 3.06.00 Examples
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_9bec7083027963d9f9ceae2cc7474de5.html">git</a></li><li class="navelem"><a class="el" href="dir_b939d78dbffbfe7544f76cce0512290d.html">c55_csl</a></li><li class="navelem"><a class="el" href="dir_0b9cbc4d9ead0ca0e71abd729070d16d.html">c55xx_csl</a></li><li class="navelem"><a class="el" href="dir_e9ea15cd39a126421ac4b41739582c90.html">ccs_v6.x_examples</a></li><li class="navelem"><a class="el" href="dir_dab4c667acc6ef1172dea380cc0e767e.html">gpt</a></li><li class="navelem"><a class="el" href="dir_0aaa3fe2f5a281dd080d2486f6a9f47a.html">CSL_GPT_DMA_Example</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">csl_dma.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>DMA functional layer API defenition file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;csl_dma.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab2a10443f64caae87c84183390b21898"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="csl__dma_8c.html#ab2a10443f64caae87c84183390b21898">DMA_init</a> (void)</td></tr>
<tr class="separator:ab2a10443f64caae87c84183390b21898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c9ecb2992e2ffa1cabf0512cdc88d31"><td class="memItemLeft" align="right" valign="top">CSL_DMA_Handle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="csl__dma_8c.html#a3c9ecb2992e2ffa1cabf0512cdc88d31">DMA_open</a> (CSL_DMAChanNum chanNum, CSL_DMA_ChannelObj *pDmaChanObj, CSL_Status *<a class="el" href="structstatus.html">status</a>)</td></tr>
<tr class="separator:a3c9ecb2992e2ffa1cabf0512cdc88d31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf27970935da670a1c9663ddc6b66a87"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="csl__dma_8c.html#adf27970935da670a1c9663ddc6b66a87">DMA_close</a> (CSL_DMA_Handle hDMA)</td></tr>
<tr class="separator:adf27970935da670a1c9663ddc6b66a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c6067b90d1f20b8bae8bf6861414f2a"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="csl__dma_8c.html#a5c6067b90d1f20b8bae8bf6861414f2a">DMA_config</a> (CSL_DMA_Handle hDMA, CSL_DMA_Config *pConfig)</td></tr>
<tr class="separator:a5c6067b90d1f20b8bae8bf6861414f2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f453c79e96789bf54b25d68bbe75b82"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="csl__dma_8c.html#a6f453c79e96789bf54b25d68bbe75b82">DMA_getConfig</a> (CSL_DMA_Handle hDMA, CSL_DMA_Config *pConfig)</td></tr>
<tr class="separator:a6f453c79e96789bf54b25d68bbe75b82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aa84e04168bea29b1dd18bb81bf5297"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="csl__dma_8c.html#a8aa84e04168bea29b1dd18bb81bf5297">DMA_start</a> (CSL_DMA_Handle hDMA)</td></tr>
<tr class="separator:a8aa84e04168bea29b1dd18bb81bf5297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a846312ce2881e645f8c2cb5b08cc2ec0"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="csl__dma_8c.html#a846312ce2881e645f8c2cb5b08cc2ec0">DMA_stop</a> (CSL_DMA_Handle hDMA)</td></tr>
<tr class="separator:a846312ce2881e645f8c2cb5b08cc2ec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa03938e636c4c3d575c0a2c3826baa47"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="csl__dma_8c.html#aa03938e636c4c3d575c0a2c3826baa47">DMA_reset</a> (CSL_DMA_Handle hDMA)</td></tr>
<tr class="separator:aa03938e636c4c3d575c0a2c3826baa47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68c64bd817a28a8c68c48d17f11e72f1"><td class="memItemLeft" align="right" valign="top">CSL_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="csl__dma_8c.html#a68c64bd817a28a8c68c48d17f11e72f1">DMA_swapWords</a> (Uint16 *dataBuffer, Uint32 dataLength)</td></tr>
<tr class="separator:a68c64bd817a28a8c68c48d17f11e72f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>DMA functional layer API defenition file. </p>
<p>Path: (CSLPATH)/src </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="adf27970935da670a1c9663ddc6b66a87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status DMA_close </td>
          <td>(</td>
          <td class="paramtype">CSL_DMA_Handle&#160;</td>
          <td class="paramname"><em>hDMA</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>=========================================================================== <br />
<b>DMA_close</b> </p>
<p><b>Description</b> <br />
 This function closes the specified handle to DMA.</p>
<p><b>Arguments</b> </p><pre class="fragment">        hDMA            Handle to the DMA</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Close successful </li>
<li>CSL_ESYS_BADHANDLE - Invalid handle</li>
</ul>
<p><b> Pre Condition </b> <br />
 <a class="el" href="csl__dma_8c.html#a3c9ecb2992e2ffa1cabf0512cdc88d31">DMA_open()</a> must be called before this function call.</p>
<p><b> Post Condition </b> <br />
 After calling this function no other API should be call for the same dma Handle.</p>
<p><b>Modifies</b> <br />
 1. The DMA register will assigned to reset values for this handle. <br />
 2. CSL_DMA_ChannelObj object structure</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_status           status;
        CSL_DMAChanNum       chanNum;
        CSL_DMA_ChannelObj   pDmaChanObj
        CSL_DMA_Handle       hDMA;
        ...

        chanNum = CSL_DMA_CHAN0;
        hDMA = DMA_open(chanNum, &amp;pDmaChanObj, &amp;status);

        status = DMA_Close(hDMA);</pre><hr/>
 
</div>
</div>
<a class="anchor" id="a5c6067b90d1f20b8bae8bf6861414f2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status DMA_config </td>
          <td>(</td>
          <td class="paramtype">CSL_DMA_Handle&#160;</td>
          <td class="paramname"><em>hDMA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CSL_DMA_Config *&#160;</td>
          <td class="paramname"><em>pConfig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>=========================================================================== <br />
<b>DMA_config</b> </p>
<p><b>Description</b> <br />
 It configures the DMA Controller registers of particular handle as per the values passed in the DMA config structure.</p>
<p><b>Arguments</b> </p><pre class="fragment">            hDMA            Handle to the DMA.
            Config          Pointer to DMA Config structure.</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Hardware setup successful </li>
<li>CSL_ESYS_BADHANDLE - Invalid handle </li>
<li>CSL_ESYS_INVPARAMS - Congig Parameter is invalid.</li>
</ul>
<p><b> Pre Condition </b> <br />
 <a class="el" href="csl__dma_8c.html#a3c9ecb2992e2ffa1cabf0512cdc88d31">DMA_open()</a> must be called successfully before this function call.</p>
<p><b> Post Condition </b> <br />
 None</p>
<p><b>Modifies</b> <br />
 1. DMA registers will be updated as per config parameter <br />
 2. CSL_DMA_ChannelObj Object will be updated to store some info as passed config parameter.</p>
<p><b>Example</b> </p><pre class="fragment">        #define CSL_DMA_BUFFER_SIZE 1024

            CSL_DMA_Handle       hDMA;
            CSL_DMA_Config       pConfig;
            CSL_status           status;
            CSL_DMAChanNum       chanNum;
            CSL_DMA_ChannelObj   pDmaChanObj

            Uint16 dmaSRCBuff[CSL_DMA_BUFFER_SIZE];
            Uint16 dmaDESTBuff[CSL_DMA_BUFFER_SIZE];
            ...

            chanNum = CSL_DMA_CHAN0;
            hDMA = DMA_open(chanNum, &amp;pDmaChanObj, &amp;status);

#if (defined(CHIP_C5505_C5515) || defined(CHIP_C5504_C5514) || defined(CHIP_C5517) || defined(CHIP_C5535) || defined(CHIP_C5545))
            pConfig.pingPongMode = CSL_DMA_PING_PONG_DISABLE;
#endif

            pConfig.autoMode     = CSL_DMA_AUTORELOAD_DISABLE;
            pConfig.burstLen     = CSL_DMA_TXBURST_8WORD;
            pConfig.trigger      = CSL_DMA_SOFTWARE_TRIGGER;
            pConfig.dmaEvt       = CSL_DMA_EVT_NONE;
            pConfig.dmaInt       = CSL_DMA_INTERRUPT_DISABLE;
            pConfig.chanDir      = CSL_DMA_READ;
            pConfig.trfType      = CSL_DMA_TRANSFER_MEMORY;
            pConfig.dataLen      = CSL_DMA_BUFFER_SIZE * 2;
            pConfig.srcAddr      = (Uint32)dmaSRCBuff;
            pConfig.destAddr     = (Uint32)dmaDESTBuff;

            status = DMA_Config(hDMA, &amp;pConfig);
            ...</pre><hr/>
 
</div>
</div>
<a class="anchor" id="a6f453c79e96789bf54b25d68bbe75b82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status DMA_getConfig </td>
          <td>(</td>
          <td class="paramtype">CSL_DMA_Handle&#160;</td>
          <td class="paramname"><em>hDMA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CSL_DMA_Config *&#160;</td>
          <td class="paramname"><em>pConfig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>=========================================================================== <br />
<b>DMA_getConfig</b> </p>
<p><b>Description</b> <br />
 Gets the config information for the different operations of DMA.</p>
<p><b>Arguments</b> </p><pre class="fragment">        hDMA            Handle to the DMA
        Config          Pointer to DMA Config structure</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Both Parametrs are valid. </li>
<li>CSL_ESYS_BADHANDLE - Invalid handle </li>
<li>CSL_ESYS_INVPARAMS - invalid Congig Pointer.</li>
</ul>
<p><b> Pre Condition </b> <br />
 <a class="el" href="csl__dma_8c.html#a3c9ecb2992e2ffa1cabf0512cdc88d31">DMA_open()</a> must be called successfully before this function call.</p>
<p><b> Post Condition </b> <br />
 None</p>
<p><b>Modifies</b> <br />
 1. The Config pointer will be updated to store the DMA Register information as per DMA Handle passed.</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_DMA_Handle       hDMA;
        CSL_DMA_Config       pConfig;
        CSL_status           status;
        CSL_DMAChanNum       chanNum;
        CSL_DMA_ChannelObj   pDmaChanObj

        chanNum = CSL_DMA_CHAN0;
        hDMA = DMA_open(chanNum, &amp;pDmaChanObj, &amp;status);

        status = DMA_getConfig(hDMA, &amp;pConfig);</pre><hr/>
 
</div>
</div>
<a class="anchor" id="ab2a10443f64caae87c84183390b21898"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status DMA_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>=========================================================================== <br />
<b>DMA_init</b> </p>
<p><b>Description</b> <br />
 This is the initialization function for the DMA CSL. The function must be called before calling any other API from this CSL. This function is for enabling the clock to the DMA Controller. Currently, the function just return status CSL_SOK. This function should be called only once during system initialization time. This function gates the clock for all the four DMA modules. Application programs may disable the clocks for DMA modules which are are not in use.</p>
<p><b>Arguments</b> </p><pre class="fragment"> </pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Always returns</li>
</ul>
<p><b> Pre Condition </b> <br />
 This should be call first before calling any other DMA Function.</p>
<p><b> Post Condition </b> <br />
 None</p>
<p><b>Modifies</b> <br />
 None</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_status       status;

        status = DMA_init();</pre><hr/>
 
</div>
</div>
<a class="anchor" id="a3c9ecb2992e2ffa1cabf0512cdc88d31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_DMA_Handle DMA_open </td>
          <td>(</td>
          <td class="paramtype">CSL_DMAChanNum&#160;</td>
          <td class="paramname"><em>chanNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CSL_DMA_ChannelObj *&#160;</td>
          <td class="paramname"><em>pDmaChanObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CSL_Status *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>=========================================================================== <br />
<b>DMA_open</b> </p>
<p><b>Description</b> <br />
 This function returns the handle to the DMA instance. This handle is passed to all other CSL APIs.</p>
<p><b>Arguments</b> </p><pre class="fragment">        chanNum     channel number to use.
        pDmaChanObj pointer to dma channel object.
        status      Status of the function call</pre><p><b> Return Value </b> CSL_DMA_Handle <br />
 Valid DMA handle will be returned if status value is equal to CSL_SOK.</p>
<p><b> Pre Condition </b> <br />
 <a class="el" href="csl__dma_8c.html#ab2a10443f64caae87c84183390b21898">DMA_init()</a> API should be called before <a class="el" href="csl__dma_8c.html#a3c9ecb2992e2ffa1cabf0512cdc88d31">DMA_open()</a>.</p>
<p><b> Post Condition </b> <br />
 1. The status is updated in the status variable. If status returned is </p><ul>
<li>CSL_SOK - Valid DMA handle is returned </li>
<li>CSL_ESYS_INVPARAMS - Invalid parameter <br />
 2. CSL_DMA_ChannelObj object structure is populated</li>
</ul>
<p><b>Modifies</b> <br />
 1. The status variable <br />
 2. CSL_DMA_ChannelObj object structure</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_status           status;
        CSL_DMAChanNum       chanNum;
        CSL_DMA_ChannelObj   pDmaChanObj
        CSL_DMA_Handle       hDMA;
        ...

        chanNum = CSL_DMA_CHAN0;
        hDMA = DMA_open(chanNum, &amp;pDmaChanObj, &amp;status);
        ...
</pre><hr/>
 
</div>
</div>
<a class="anchor" id="aa03938e636c4c3d575c0a2c3826baa47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status DMA_reset </td>
          <td>(</td>
          <td class="paramtype">CSL_DMA_Handle&#160;</td>
          <td class="paramname"><em>hDMA</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>=========================================================================== <br />
<b>DMA_reset</b> </p>
<p><b>Description</b> <br />
 Function reset all the register as per passed handle.</p>
<p><b>Arguments</b> </p><pre class="fragment">        hDMA            Handle to the DMA</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Reset successful </li>
<li>CSL_ESYS_BADHANDLE - Invalid handle</li>
</ul>
<p><b> Pre Condition </b> <br />
 1. <a class="el" href="csl__dma_8c.html#a3c9ecb2992e2ffa1cabf0512cdc88d31">DMA_open()</a> must be called successfully before this function call</p>
<p><b> Post Condition </b> <br />
 None</p>
<p><b>Modifies</b> <br />
 DMA Register will be populated with the reset values.</p>
<p><b>Example</b> </p><pre class="fragment">        CSL_DMA_Handle       hDMA;
        CSL_status           status;
        CSL_DMAChanNum       chanNum;
        CSL_DMA_ChannelObj   pDmaChanObj

        chanNum = CSL_DMA_CHAN0;
        hDMA = DMA_open(chanNum, &amp;pDmaChanObj, &amp;status);

        status = DMA_reset(hDMA);</pre><hr/>
 
</div>
</div>
<a class="anchor" id="a8aa84e04168bea29b1dd18bb81bf5297"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status DMA_start </td>
          <td>(</td>
          <td class="paramtype">CSL_DMA_Handle&#160;</td>
          <td class="paramname"><em>hDMA</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>=========================================================================== <br />
<b>DMA_start</b> </p>
<p><b>Description</b> <br />
 This function trigger to DMA for data transfer.</p>
<p><b>Arguments</b> </p><pre class="fragment">            hDMA            Handle to the DMA</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Start successful </li>
<li>CSL_ESYS_BADHANDLE - Invalid handle</li>
</ul>
<p><b> Pre Condition </b> <br />
 DMA_config API must be called before calling this API for same handle.</p>
<p><b> Post Condition </b> <br />
 None</p>
<p><b>Modifies</b> <br />
 Destination buffer will be modified after this call.</p>
<p><b>Example</b> </p><pre class="fragment">        #define CSL_DMA_BUFFER_SIZE 1024

            CSL_DMA_Handle       hDMA;
            CSL_DMA_Config       pConfig;
            CSL_status           status;
            CSL_DMAChanNum       chanNum;
            CSL_DMA_ChannelObj   pDmaChanObj

        Uint16 dmaSRCBuff[CSL_DMA_BUFFER_SIZE];
        Uint16 dmaDESTBuff[CSL_DMA_BUFFER_SIZE];

            chanNum = CSL_DMA_CHAN0;
            hDMA = DMA_open(chanNum, &amp;pDmaChanObj, &amp;status);

#if (defined(CHIP_C5505_C5515) || defined(CHIP_C5504_C5514) || defined(CHIP_C5517) || defined(CHIP_C5535) || defined(CHIP_C5545))
            pConfig.pingPongMode = CSL_DMA_PING_PONG_DISABLE;
#endif

            pConfig.autoMode     = CSL_DMA_AUTORELOAD_DISABLE;
            pConfig.burstLen     = CSL_DMA_TXBURST_8WORD;
            pConfig.trigger      = CSL_DMA_SOFTWARE_TRIGGER;
            pConfig.dmaEvt       = CSL_DMA_EVT_NONE;
            pConfig.dmaInt       = CSL_DMA_INTERRUPT_DISABLE;
            pConfig.chanDir      = CSL_DMA_READ;
            pConfig.trfType      = CSL_DMA_TRANSFER_MEMORY;
            pConfig.dataLen      = CSL_DMA_BUFFER_SIZE * 2;
            pConfig.srcAddr      = (Uint32)dmaSRCBuff;
            pConfig.destAddr     = (Uint32)dmaDESTBuff;

            status = DMA_Config(hDMA, &amp;pConfig);

            status = DMA_start (hDMA);</pre><hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hDMA</td><td>Pointer to the object that holds reference to the DMA handle object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a846312ce2881e645f8c2cb5b08cc2ec0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status DMA_stop </td>
          <td>(</td>
          <td class="paramtype">CSL_DMA_Handle&#160;</td>
          <td class="paramname"><em>hDMA</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>=========================================================================== <br />
<b>DMA_stop</b> </p>
<p><b>Description</b> <br />
 This function set the DMA controller for not transfering the data.</p>
<p><b>Arguments</b> </p><pre class="fragment">            hDMA            Handle to the DMA</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Stop successful </li>
<li>CSL_ESYS_BADHANDLE - Invalid handle</li>
</ul>
<p><b> Pre Condition </b> <br />
 1. <a class="el" href="csl__dma_8c.html#a3c9ecb2992e2ffa1cabf0512cdc88d31">DMA_open()</a> must be called successfully before this function call</p><ol type="1">
<li>Call <a class="el" href="csl__dma_8c.html#a5c6067b90d1f20b8bae8bf6861414f2a">DMA_config()</a> for the handle return by <a class="el" href="csl__dma_8c.html#a3c9ecb2992e2ffa1cabf0512cdc88d31">DMA_open()</a></li>
<li>call <a class="el" href="csl__dma_8c.html#a8aa84e04168bea29b1dd18bb81bf5297">DMA_start()</a> and in the mean while call <a class="el" href="csl__dma_8c.html#a846312ce2881e645f8c2cb5b08cc2ec0">DMA_stop()</a> if transfer is not required.</li>
</ol>
<p><b> Post Condition </b> <br />
 None</p>
<p><b>Modifies</b> <br />
 None</p>
<p><b>Example</b> </p><pre class="fragment">        #define CSL_DMA_BUFFER_SIZE 1024

            CSL_DMA_Handle       hDMA;
            CSL_DMA_Config       pConfig;
            CSL_status           status;
            CSL_DMAChanNum       chanNum;
            CSL_DMA_ChannelObj   pDmaChanObj

        Uint16 dmaSRCBuff[CSL_DMA_BUFFER_SIZE];
        Uint16 dmaDESTBuff[CSL_DMA_BUFFER_SIZE];

            chanNum = CSL_DMA_CHAN0;
            hDMA = DMA_open(chanNum, &amp;pDmaChanObj, &amp;status);

#if (defined(CHIP_C5505_C5515) || defined(CHIP_C5504_C5514) || defined(CHIP_C5517) || defined(CHIP_C5535) || defined(CHIP_C5545))
            pConfig.pingPongMode = CSL_DMA_PING_PONG_DISABLE;
#endif

            pConfig.autoMode     = CSL_DMA_AUTORELOAD_DISABLE;
            pConfig.burstLen     = CSL_DMA_TXBURST_8WORD;
            pConfig.trigger      = CSL_DMA_SOFTWARE_TRIGGER;
            pConfig.dmaEvt       = CSL_DMA_EVT_NONE;
            pConfig.dmaInt       = CSL_DMA_INTERRUPT_DISABLE;
            pConfig.chanDir      = CSL_DMA_READ;
            pConfig.trfType      = CSL_DMA_TRANSFER_MEMORY;
            pConfig.dataLen      = CSL_DMA_BUFFER_SIZE * 2;
            pConfig.srcAddr      = (Uint32)dmaSRCBuff;
            pConfig.destAddr     = (Uint32)dmaDESTBuff;

            status = DMA_Config(hDMA, &amp;pConfig);

            status = DMA_start (hDMA);

            status = DMA_stop (hDMA);</pre><hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hDMA</td><td>Pointer to the object that holds reference to the DMA handle object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a68c64bd817a28a8c68c48d17f11e72f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSL_Status DMA_swapWords </td>
          <td>(</td>
          <td class="paramtype">Uint16 *&#160;</td>
          <td class="paramname"><em>dataBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Uint32&#160;</td>
          <td class="paramname"><em>dataLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>=========================================================================== <br />
<b>DMA_swapWords</b> </p>
<p><b>Description</b> <br />
 This function swaps words in a given buffer</p>
<p><b>Arguments</b> </p><pre class="fragment">        dataBuffer    Pointer to the buffer which words needs to be swaped
        dataLength    Length of the valid data buffer in the buffer</pre><p><b> Return Value </b> CSL_Status </p><ul>
<li>CSL_SOK - Reset successful </li>
<li>CSL_ESYS_INVPARAMS - Invalid parameters</li>
</ul>
<p><b> Pre Condition </b> <br />
 None</p>
<p><b> Post Condition </b> <br />
 Swaps the words in the given buffer</p>
<p><b>Modifies</b> <br />
 Order of data in the given buffer</p>
<p><b>Example</b> </p><pre class="fragment">        #define DMA_BUF_SIZE (256)

        Uint16        dmaBuf [DMA_BUF_SIZE];
        CSL_Status    status;

        status = DMA_swapWords (dmaBuf, DMA_BUF_SIZE);</pre><hr/>
 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
