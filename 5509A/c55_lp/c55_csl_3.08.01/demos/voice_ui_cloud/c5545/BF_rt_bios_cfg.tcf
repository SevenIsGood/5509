utils.loadPlatform("ti.platforms.evm5517");

/* The following DSP/BIOS Features are enabled.  */
bios.enableRealTimeAnalysis(prog);
bios.enableRtdx(prog);
bios.enableTskManager(prog);

bios.GBL.MEMORYMODEL = "LARGE";
bios.MEM.NOMEMORYHEAPS = 0;
bios.MEM.ARGSSEG = prog.get("SARAM");
bios.MEM.STACKSEG = prog.get("SARAM");
bios.MEM.BSSSEG = prog.get("SARAM");
bios.MEM.CONSTSEG = prog.get("SARAM");
bios.MEM.DATASEG = prog.get("SARAM");
bios.MEM.CIOSEG = prog.get("SARAM");
bios.MEM.instance("SARAM").createHeap = 1;
bios.MEM.BIOSOBJSEG = prog.get("SARAM");
bios.MEM.MALLOCSEG = prog.get("SARAM");
bios.MEM.SYSDATASEG = prog.get("SARAM");
bios.MEM.OBJSEG = prog.get("SARAM");

bios.PRD.USECLK = 0;
bios.CLK.ENABLECLK = 0;
bios.GBL.MODIFYCLKMD = 0;

bios.TSK.create("audioTsk");
bios.TSK.instance("audioTsk").order = 1;
bios.TSK.instance("audioTsk").priority = 7;
bios.TSK.instance("audioTsk").fxn = prog.extern("audioLoopTask");
bios.TSK.instance("audioTsk").priority = 1;
bios.TSK.instance("audioTsk").stackSize = 1024;
bios.TSK.instance("audioTsk").stackMemSeg = prog.get("SARAM");
bios.TSK.instance("audioTsk").stackMemSeg = prog.get("SARAM");
bios.TSK.STACKSEG = prog.get("SARAM");
bios.TSK.STACKSIZE = 1024;
bios.TSK.SYSSTACKSIZE = 256;
bios.MEM.instance("VECT").base = 0x027e00;
bios.MEM.instance("SARAM").len = 0x1fe00;
bios.MEM.instance("SARAM").comment = "32 blocks of 8K bytes of on-chip Single-Access RAM";
bios.SEM.create("SEM_i2s_dmaTransferDone");
bios.MEM.ARGSSEG = prog.get("DARAM");
bios.MEM.GBLINITSEG = prog.get("DARAM");
bios.MEM.TRCDATASEG = prog.get("DARAM");
bios.MEM.SYSDATASEG = prog.get("DARAM");
bios.MEM.BIOSSEG = prog.get("DARAM");
bios.MEM.SYSINITSEG = prog.get("DARAM");
bios.MEM.HWISEG = prog.get("DARAM");
bios.MEM.RTDXTEXTSEG = prog.get("DARAM");
bios.MEM.instance("DARAM").createHeap = 1;
bios.MEM.STACKSEG = prog.get("SARAM");
bios.MEM.CINITSEG = prog.get("DARAM");
bios.MEM.CONSTSEG = prog.get("SARAM");
bios.MEM.SWITCHSEG = prog.get("DARAM");
bios.TSK.OBJMEMSEG = prog.get("DARAM");
bios.MEM.CIOSEG = prog.get("DARAM");
bios.MEM.PINITSEG = prog.get("DARAM");
bios.MEM.BIOSOBJSEG = prog.get("DARAM");
bios.MEM.MALLOCSEG = prog.get("DARAM");
bios.MEM.instance("SARAM").heapSize = 0x1000;
bios.MEM.instance("DARAM").heapSize = 0x1000;
bios.MEM.REUSECODESPACE = 0;
bios.MEM.STACKSIZE = 0x0400;
bios.MEM.SYSSTACKSIZE = 0x0200;
bios.MEM.TEXTSEG = prog.get("SARAM");
bios.TSK.create("uartdmaTsk");
bios.TSK.instance("uartdmaTsk").order = 2;
bios.TSK.instance("uartdmaTsk").fxn = prog.extern("audioLoopUartsend");
bios.TSK.instance("uartdmaTsk").priority = 6;
bios.TSK.create("uartrxTSK");
bios.TSK.instance("uartrxTSK").order = 3;
bios.TSK.instance("uartrxTSK").fxn = prog.extern("uartRxTask");
bios.TSK.instance("uartrxTSK").priority = 4;
bios.SEM.create("SEM_UARTdataTransfer");
bios.SEM.create("SEM_uartrx_transferDone");
bios.SEM.instance("SEM_uartrx_transferDone").destroy();
bios.SEM.instance("SEM_UARTdataTransfer").destroy();
bios.TSK.instance("TSK_idle").order = 1;
bios.TSK.instance("audioTsk").order = 2;
bios.TSK.instance("uartdmaTsk").order = 3;
bios.TSK.instance("uartrxTSK").destroy();
bios.TSK.instance("uartdmaTsk").destroy();
bios.TSK.create("uartdmaTsk");
bios.TSK.instance("uartdmaTsk").order = 3;
bios.TSK.instance("uartdmaTsk").priority = 6;
bios.TSK.instance("uartdmaTsk").fxn = prog.extern("audioLoopUartsend");
bios.TSK.create("uartrxTsk");
bios.TSK.instance("uartrxTsk").order = 4;
bios.TSK.instance("uartrxTsk").priority = 4;
bios.TSK.instance("uartrxTsk").fxn = prog.extern("uartRxTask");
bios.SEM.create("SEM_UARTdataTransfer");
bios.SEM.create("SEM_uartrx_transferDone");
bios.SEM.create("SEM_OLEDTransfer");
bios.TSK.create("oledTsk");
bios.TSK.instance("oledTsk").order = 5;
bios.TSK.instance("oledTsk").comment = "_Oledsend";
bios.TSK.instance("oledTsk").comment = "";
bios.TSK.instance("oledTsk").fxn = prog.extern("Oledsend");
bios.TSK.instance("audioTsk").order = 1;
bios.TSK.instance("TSK_idle").order = 2;
bios.TSK.instance("audioTsk").priority = 2;
bios.TSK.instance("audioTsk").priority = 3;
bios.SEM.create("SEM_BlinkXF");
bios.SEM.create("SEM_DoneAudioCollection");
bios.TSK.create("TSK_blinkXGvoicerecog");
bios.TSK.instance("TSK_blinkXGvoicerecog").order = 6;
bios.TSK.instance("TSK_blinkXGvoicerecog").fxn = prog.extern("blinkXF");
bios.TSK.instance("TSK_blinkXGvoicerecog").comment = "task to blink XF if positive keyword trigger";
bios.TSK.create("TSK_Recognizer");
bios.TSK.instance("TSK_Recognizer").order = 7;
bios.TSK.instance("audioTsk").priority = 7;
bios.TSK.instance("TSK_Recognizer").order = 1;
bios.TSK.instance("audioTsk").order = 2;
bios.TSK.instance("TSK_idle").order = 3;
bios.TSK.instance("uartdmaTsk").order = 4;
bios.TSK.instance("uartrxTsk").order = 5;
bios.TSK.instance("oledTsk").order = 6;
bios.TSK.instance("TSK_blinkXGvoicerecog").order = 7;
bios.TSK.instance("TSK_Recognizer").priority = 5;
bios.TSK.instance("TSK_idle").order = 1;
bios.TSK.instance("uartdmaTsk").order = 3;
bios.TSK.instance("uartrxTsk").order = 4;
bios.TSK.instance("oledTsk").order = 5;
bios.TSK.instance("TSK_blinkXGvoicerecog").order = 6;
bios.TSK.instance("TSK_Recognizer").destroy();
bios.TSK.create("TSK_Recognizer");
bios.TSK.instance("TSK_Recognizer").arg3 = 0;
bios.TSK.instance("TSK_Recognizer").autoAllocateStack = 1;
bios.TSK.instance("TSK_Recognizer").stackMemSeg = prog.get("DARAM");
bios.TSK.instance("TSK_Recognizer").avgformat = "%.2f inst";
bios.TSK.instance("TSK_Recognizer").fxn = prog.extern("FXN_F_nop");
bios.TSK.instance("TSK_Recognizer").arg2 = 0;
bios.TSK.instance("TSK_Recognizer").filtmaxmult = 1;
bios.TSK.instance("TSK_Recognizer").arg0 = 0;
bios.TSK.instance("TSK_Recognizer").arg4 = 0;
bios.TSK.instance("TSK_Recognizer").envPointer = 0;
bios.TSK.instance("TSK_Recognizer").arg6 = 0;
bios.TSK.instance("TSK_Recognizer").stackSize = 1024;
bios.TSK.instance("TSK_Recognizer").allocateTaskName = 0;
bios.TSK.instance("TSK_Recognizer").iId = 0;
bios.TSK.instance("TSK_Recognizer").comment = "<add comments here>";
bios.TSK.instance("TSK_Recognizer").arg1 = 0;
bios.TSK.instance("TSK_Recognizer").arg7 = 0;
bios.TSK.instance("TSK_Recognizer").priority = 5;
bios.TSK.instance("TSK_Recognizer").iSTATREG = 0x00000000;
bios.TSK.instance("TSK_Recognizer").order = 1;
bios.TSK.instance("TSK_Recognizer").maxformat = "%g inst";
bios.TSK.instance("TSK_Recognizer").unittype = 0;
bios.TSK.instance("TSK_Recognizer").arg5 = 0;
bios.TSK.instance("TSK_Recognizer").filtsummult = 1;
bios.TSK.instance("TSK_Recognizer").exitFlag = 1;
bios.TSK.instance("TSK_Recognizer").filter = 2;
bios.TSK.instance("TSK_Recognizer").sysStackSize = 256;
bios.TSK.instance("TSK_Recognizer").sumformat = "%g inst";
bios.TSK.instance("TSK_Recognizer").fxn = prog.extern("RecognizerFxnLocalTsk");
bios.MEM.instance("DARAM").enableHeapLabel = 1;
bios.MEM.instance("DARAM").heapLabel = prog.extern("SEG0");
bios.TSK.instance("audioTsk").order = 1;
bios.TSK.instance("TSK_idle").order = 2;
bios.TSK.instance("TSK_Recognizer").order = 7;
bios.TSK.instance("audioTsk").priority = 3;
bios.TSK.instance("audioTsk").priority = 7;
// !GRAPHICAL_CONFIG_TOOL_SCRIPT_INSERT_POINT!

prog.gen();

